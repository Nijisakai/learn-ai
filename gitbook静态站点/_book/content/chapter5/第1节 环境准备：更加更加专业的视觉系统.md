# 第1节 环境准备：更加专业的视觉系统

---

现有的Caffe、TensorFlow等工具箱已经很好地实现CNN模型，但这些工具箱需要的硬件资源比较多，不利于初学者实践和理解。因此，本文教大家如何仅使用NumPy来构建卷积神经网络（Convolutional Neural Network , CNN）模型，具体实现了卷积层、ReLU激活函数层以及最大池化层（max pooling），代码简单，讲解详细。

### **硬件准备**

#### 硬件清单

- 树莓派
- 树莓派电机扩展板
- 摄像头
- 小车套件

#### 硬件连接

<center><img src=https://md.hass.live/niji/2019-05-07-Xnip2019-05-07_15-41-17.png?imageView2/0/interlace/1/q/46|imageslim></center>

### **程序及操作**

#### 电机和摄像头驱动测试

1.打开`learn-ai`文件夹，打开路径`chapter5/self_driving_car/`  

2.打开终端，执行以下命令  

```bash
cd ~/Desktop/learn-ai/chapter5/self_driving_car
cd computer
sudo python3 drive_api2.py -s 150  //-s 150作为可选的参数，来指定行驶速度。可选范围是0-256
```

3.打开树莓派上的网络浏览器，在地址栏输入[路由器管理地址](http://192.168.123.1)，查看树莓派的IP地址  
4.在浏览器地址栏输入树莓派IP:81/drive
`例如（192.168.123.100:81/drive）`
5.在打开的界面上按键盘上的`上下左右`方向键来测试小车  
6.测试完毕后，在终端输入`Ctrl`+`C`来结束当前任务

#### 摄像头测试

1.打开桌面上的`learn-ai`文件夹，打开路径`chapter5/self_driving_car/`  
2.打开终端，执行以下命令  

```bash
cd ~/Desktop/learn-ai/chapter5/self_driving_car
cd test
python3 stream_server_test.py
```

3.新建一个终端窗口  

<center><img src="https://md.hass.live/terminal.png"></center>

4.在新的终端窗口中输入以下命令，如果有正常的视频画面输出，则测试通过  

```bash
cd ~/Desktop/learn-ai/chapter5/self_driving_car
cd raspberryPi
sudo python3 stream_client.py
```

5.在终端输入`Ctrl`+`C`来结束当前任务  
