# 第1节 环境准备：物联网平台安装配置

    Home Assistant是一个开源的物联网平台，兼容各种物联网协议。可以方便的接入和控制各种设备  
    这一部分主要在树莓派（Raspberry Pi）上面进行  
    树莓派上的Python环境使用 miniconda 进行管理  
    树莓派是运行Linux操作系统的微型卡片电脑，拥有GPIO端口与其他硬件通信，也具有HDMI，USB端口连接显示设备等  
    树莓派的操作系统在SD卡上，分发给同学的SD卡默认安装了所有的环境和依赖，相关的文档在桌面上  

本课程采用[Docker](https://baike.baidu.com/item/Docker/13344470?fr=aladdin)方式进行安装

### **硬件准备**

#### 硬件清单

- 树莓派套装

#### 硬件连接

<center><img src=https://md.hass.live/404.gif></center>

### **程序及操作**

#### 安装过程

在树莓派上打开终端，执行

```bash {.line-numbers}
//安装Docker
curl -ssl https://get.docker.com | sh

//安装指定版本的Home Assistant，本部分指定版本为0.82.0
sudo docker run --init -d --name="home-assistant" -v /home/pi/homeassistant:/config -v /etc/localtime:/etc/localtime:ro --net=host homeassistant/raspberrypi3-homeassistant:0.82.0

//启动Docker镜像
sudo docker start home-assistant

//进入镜像
sudo docker exec -it home-assistant env LANG=C.UTF-8 /bin/bash
```

正常情况下显示应和下图类似：  

<center><img src="https://md.hass.live/Xnip2019-05-07_18-35-34.png"></center>

本处即为Home Assistant的配置文件  
主要配置在`configuration.yaml`中  
文件夹`custom_components`存放自定义组件  
