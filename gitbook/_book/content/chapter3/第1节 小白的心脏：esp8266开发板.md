# 第1节 小白的心脏：esp8266开发板

---

>熟悉操作esp8266的步骤。是第一章的基础
包括功能提出和实现，硬件连接，上传的参数调节和html文件在本地服务器中的打开，传感器数据的实时呈现等，并使用Chart.js来绘制实时变化曲线
这部分主要包括两种传感器的读取，为温湿度传感器和超声波传感器

### 学习流程

#### 课程引入（10分钟）

活动名称 | 活动内容 | 时间分配
:-: | :-: | :-:
活动目标| 了解物联网基本概念 | 5分钟
背景知识 | 熟悉实验中涉及到的软硬件 | 5分钟

#### 基本任务（30分钟）

活动名称 | 活动内容 | 时间分配
:-: | :-: | :-:
硬件准备 | 将硬件按文档进行连接 | 5分钟
程序及操作 | 完成程序及操作文档部分 | 25分钟

#### 活动小结（5分钟）

---

### 活动目标

- 了解物联网的基本概念
- 了解使用开发板读取传感器的基本原理
- 熟悉使用Arduino IDE烧录固件的操作流程

### 背景知识

#### 物联网背景知识

<center><iframe src="https://player.bilibili.com/player.html?aid=46814591&cid=82000363&page=1" width="800" height="600" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></center>

#### 传感器读取

esp8266是WiFi串口模块，功能简单来讲就是：从WiFi接收到数据，串口输出；从串口接收数据，WiFi输出数据。

通过自带的GPIO口连接传感器，传感器将环境数据转化为电信号发送给esp8266读取、处理并输出。

### 原理图

``` sequence
传感器-->小白: WiFi/GPIO
小白->手机浏览器: 1.建立局域网服务器
手机浏览器-->小白: 2.通过WiFi访问控制界面
手机浏览器-->小白: 3.提交执行动作请求，如“前进”
小白->手机浏览器: 4.服务器响应请求，让小白的动力系统执行
```

### 硬件准备

#### 硬件清单

- esp8266主板
插图
- 温湿度传感器（型号为DHT11或DHT22）
插图
- 超声波传感器（型号为HC-SR04）
插图
- 杜邦线、数据线
插图

#### 硬件连接

![温湿度传感器连接](https://md.hass.live/Xnip2019-05-05_11-52-46.png?imageView2/0/interlace/1/q/46|imageslim)

![超声波传感器连接](https://md.hass.live/Xnip2019-05-05_12-02-00.png?imageView2/0/interlace/1/q/46|imageslim)

### 烧录程序到开发板1（选做）

1.打开`learn-ai`文件夹，打开路径`codes/chapter2/esp8266_projects/esp8266_dht11_http`  
2.将esp8266通过数据线连接到电脑  
3.使用Arduino IDE打开文件`esp8266_dht11_https.ino`  
4.记得把前面的[环境准备](#setup-2)部分再次确认，将环境正确配置，然后点击上传按钮进行上传  

![上传](https://md.hass.live/niji/2019-05-08-Xnip2019-05-08_10-15-02.png?imageView2/0/interlace/1/q/46|imageslim)

### 读取传感器数据

1.打开[路由器管理地址](http://192.168.123.1)，esp8266此时应该已经加入到了局域网中，查看esp8266获取到的路由器地址  
2.在浏览器中打开esp8266获取到的局域网地址，查看温湿度传感器的读数  
3.连接另一个esp8266开发板，打开路径`codes/chapter2/esp8266_projects/esp8266_ultrasonic_http`,再次执行2-6步骤来使用超声波传感器  

---

### 烧录程序到开发板2（选做）

1.打开`learn-ai`文件夹，打开路径`codes/chapter2/esp8266_projects/esp8266_dht11_http_chartjs`  
2.将esp8266通过数据线连接到电脑  
3.使用Arduino IDE打开文件 `esp8266_dht11_http_chartjs.ino`  
4.记得把前面的[环境准备](#setup-2)部分再次确认，将环境正确配置，然后点击上传按钮进行上传  

![上传](https://md.hass.live/niji/2019-05-08-Xnip2019-05-08_10-15-02.png?imageView2/0/interlace/1/q/46|imageslim)

### 绘制实时曲线

1.打开[路由器管理地址](http://192.168.123.1)，esp8266此时应该已经加入到了局域网中，查看esp8266获取到的路由器地址  
2.在浏览器中打开esp8266获取到的局域网地址，查看温湿度传感器的读数  

![网页图例](https://md.hass.live/niji/2019-05-08-Xnip2019-05-08_10-13-13.png?imageView2/0/interlace/1/q/46|imageslim)

### 活动小结

总结课程主要内容，强调重难点
