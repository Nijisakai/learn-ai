<!DOCTYPE html><html><head>
      <title>README</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////Users/niji/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.3.13/node_modules/@shd101wyy/mume/dependencies/katex/katex.min.css">
      
      
      
      
      
      
      
      
      

      <style> 
      pre{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;padding:1em;margin:.5em 0;overflow:auto;line-height:1.5;tab-size:4;hyphens:none;color:#c5c8c6;background-color:#27292c !important;border:#43484c;border-radius:3px}pre[class*="language-"]{padding:1em}code[class*="language-"] .token.comment,pre[class*="language-"] .token.comment,code[class*="language-"] .token.prolog,pre[class*="language-"] .token.prolog,code[class*="language-"] .token.doctype,pre[class*="language-"] .token.doctype,code[class*="language-"] .token.cdata,pre[class*="language-"] .token.cdata{color:#7C7C7C}code[class*="language-"] .token.punctuation,pre[class*="language-"] .token.punctuation{color:#96CBFE}code[class*="language-"] .namespace,pre[class*="language-"] .namespace{opacity:.7}code[class*="language-"] .token.constant,pre[class*="language-"] .token.constant{color:#99CC99}code[class*="language-"] .token.boolean,pre[class*="language-"] .token.boolean,code[class*="language-"] .token.number,pre[class*="language-"] .token.number,code[class*="language-"] .token.function-name,pre[class*="language-"] .token.function-name{color:#FF73FD}code[class*="language-"] .token.tag,pre[class*="language-"] .token.tag{color:#96CBFE}code[class*="language-"] .token.selector,pre[class*="language-"] .token.selector{color:#96CBFE}code[class*="language-"] .token.attr-name,pre[class*="language-"] .token.attr-name{color:#C6C5FE}code[class*="language-"] .token.string,pre[class*="language-"] .token.string{color:#A8FF60}code[class*="language-"] .token.char,pre[class*="language-"] .token.char{color:#FF8000}code[class*="language-"] .token.entity,pre[class*="language-"] .token.entity{color:#FFD2A7}code[class*="language-"] .token.url,pre[class*="language-"] .token.url{color:#7C7C7C}code[class*="language-"] .token.operator,pre[class*="language-"] .token.operator{color:#EDEDED}code[class*="language-"] .token.atrule,pre[class*="language-"] .token.atrule,code[class*="language-"] .token.attr-value,pre[class*="language-"] .token.attr-value,code[class*="language-"] .token.keyword,pre[class*="language-"] .token.keyword{color:#CFCB90}code[class*="language-"] .token.function,pre[class*="language-"] .token.function{color:#FFD2A7}code[class*="language-"] .token.class-name,pre[class*="language-"] .token.class-name{color:#FFD2A7}code[class*="language-"] .token.variable,pre[class*="language-"] .token.variable{color:#C6C5FE}code[class*="language-"] .token.regex,pre[class*="language-"] .token.regex,code[class*="language-"] .token.important,pre[class*="language-"] .token.important{color:#E9C062}code[class*="language-"] .token.important,pre[class*="language-"] .token.important,code[class*="language-"] .token.bold,pre[class*="language-"] .token.bold{font-weight:bold}code[class*="language-"] .token.italic,pre[class*="language-"] .token.italic{font-style:italic}code[class*="language-"] .token.entity,pre[class*="language-"] .token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:rgba(153,122,102,0.08);background:linear-gradient(to right, rgba(153,122,102,0.1) 70%, rgba(153,122,102,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:rgba(153,122,102,0.4);color:#f5f2f0;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px white}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#555;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#030303}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#7e7e7e}html body strong{color:#030303}html body del{color:#7e7e7e}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#7e7e7e;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#030303}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#030303;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#030303;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#030303;page-break-after:avoid}html body blockquote{color:#7e7e7e}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
html body:before {
  content: "Failed to compile `style.less`. ParseError: Unrecognised input in input on line 13, column 51:
12     zoom:expression( function(e) {
13 if(e.width>e.height) {if (e.width>128) { e.height = e.height*(128 /e.width); e.width=128; }}
14 else {if (e.height>128) { e.width = e.width*(128 /e.height); e.height=128; }}
" !important;
  padding: 2em !important;
}
.mume.mume { display: none !important; } 
      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview   ">
      <h1 class="mume-header" id="%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E8%AF%BE%E7%A8%8B%E6%96%87%E6%A1%A3-%E8%AF%BE%E7%A8%8B%E6%B4%BB%E5%8A%A8%E9%83%A8%E5%88%86">&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x8BFE;&#x7A0B;&#x6587;&#x6863;-&#x8BFE;&#x7A0B;&#x6D3B;&#x52A8;&#x90E8;&#x5206;</h1>

<p><font size="5">&#x76EE;&#x5F55;</font></p>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ul>
<li><a href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><strong>&#x73AF;&#x5883;&#x51C6;&#x5907;</strong></a>
<ul>
<li><a href="#anaconda">Anaconda</a></li>
<li><a href="#vscode">VSCode</a></li>
<li><a href="#cp2102%E9%A9%B1%E5%8A%A8">CP2102&#x9A71;&#x52A8;</a></li>
<li><a href="#arduino-ide">Arduino <abbr title="Integrated Development Environment,&#x96C6;&#x6210;&#x5F00;&#x53D1;&#x73AF;&#x5883;">IDE.</abbr></a></li>
<li><a href="#%E5%85%B6%E4%BB%96">&#x5176;&#x4ED6;</a></li>
<li><a href="#%E4%B8%8B%E8%BD%BD%E8%AF%BE%E7%A8%8B%E6%89%80%E9%9C%80%E6%96%87%E4%BB%B6">&#x4E0B;&#x8F7D;&#x8BFE;&#x7A0B;&#x6240;&#x9700;&#x6587;&#x4EF6;</a></li>
</ul>
</li>
<li><a href="#chapter-1-%E7%89%A9%E8%81%94%E7%BD%91%E4%B8%8E%E6%9C%BA%E5%99%A8%E4%BA%BA"><strong>Chapter 1 &#x7269;&#x8054;&#x7F51;&#x4E0E;&#x673A;&#x5668;&#x4EBA;</strong></a></li>
<li><a href="#part-1-%E4%BD%BF%E7%94%A8esp8266%E5%BC%80%E5%8F%91%E6%9D%BF%E8%AF%BB%E5%8F%96%E5%92%8C%E6%8E%A7%E5%88%B6%E4%BC%A0%E6%84%9F%E5%99%A8-%E8%88%B5%E6%9C%BA%E5%92%8C%E7%94%B5%E6%9C%BA"><strong>Part 1 &#x4F7F;&#x7528;esp8266&#x5F00;&#x53D1;&#x677F;&#x8BFB;&#x53D6;&#x548C;&#x63A7;&#x5236;&#x4F20;&#x611F;&#x5668;&#x3001;&#x8235;&#x673A;&#x548C;&#x7535;&#x673A;</strong></a>
<ul>
<li><a href="#part-11-%E4%BD%BF%E7%94%A8esp8266%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%8A%E8%AF%BB%E5%8F%96%E4%BC%A0%E6%84%9F%E5%99%A8%E6%95%B0%E6%8D%AE%E7%BB%98%E5%88%B6%E5%AE%9E%E6%97%B6%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF">Part 1.1 &#x4F7F;&#x7528;esp8266&#x5728;&#x7F51;&#x9875;&#x4E0A;&#x8BFB;&#x53D6;&#x4F20;&#x611F;&#x5668;&#x6570;&#x636E;&#xFF0C;&#x7ED8;&#x5236;&#x5B9E;&#x65F6;&#x53D8;&#x5316;&#x66F2;&#x7EBF;</a></li>
<li><a href="#part-12-wifi%E9%81%A5%E6%8E%A7%E5%B0%8F%E8%BD%A6">Part 1.2 WiFi&#x9065;&#x63A7;&#x5C0F;&#x8F66;</a></li>
<li><a href="#part-13-%E4%BD%BF%E7%94%A8esp8266%E9%80%9A%E8%BF%87wifi%E6%8E%A7%E5%88%B6%E6%9C%BA%E6%A2%B0%E8%87%82%E8%88%B5%E6%9C%BA">Part 1.3 &#x4F7F;&#x7528;esp8266&#x901A;&#x8FC7;WiFi&#x63A7;&#x5236;&#x673A;&#x68B0;&#x81C2;&#x8235;&#x673A;</a></li>
<li><a href="#part-14-esp32%E7%BD%91%E7%BB%9C%E6%91%84%E5%83%8F%E5%A4%B4%E4%B8%8E%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB">Part 1.4 esp32&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x4E0E;&#x4EBA;&#x8138;&#x8BC6;&#x522B;</a></li>
<li><a href="#part-15-%E7%BB%BC%E5%90%88%E4%B8%8E%E8%BF%9B%E9%98%B6">Part 1.5 &#x7EFC;&#x5408;&#x4E0E;&#x8FDB;&#x9636;</a></li>
<li><a href="#%E5%B0%BE%E5%A3%B0">&#x5C3E;&#x58F0;</a></li>
</ul>
</li>
<li><a href="#part-2-%E7%89%A9%E8%81%94%E7%BD%91%E5%BC%80%E6%BA%90%E5%B9%B3%E5%8F%B0home-assistant%E5%88%9B%E6%84%8F%E5%BA%94%E7%94%A8"><strong>Part 2 &#x7269;&#x8054;&#x7F51;&#x5F00;&#x6E90;&#x5E73;&#x53F0;Home Assistant&#x521B;&#x610F;&#x5E94;&#x7528;</strong></a>
<ul>
<li><a href="#part-21-home-assistant%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE">Part 2.1 Home Assistant&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;</a></li>
<li><a href="#part-22-home-assistant%E6%8E%A7%E5%88%B6esp8266%E5%BD%A9%E8%89%B2%E7%81%AF">Part 2.2 Home Assistant&#x63A7;&#x5236;esp8266&#x5F69;&#x8272;&#x706F;</a></li>
<li><a href="#part-23-home-assistant%E8%BF%9B%E8%A1%8C%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E5%92%8C%E8%AF%AD%E9%9F%B3%E6%92%AD%E6%8A%A5">Part 2.3 Home Assistant&#x8FDB;&#x884C;&#x4EBA;&#x8138;&#x8BC6;&#x522B;&#x548C;&#x8BED;&#x97F3;&#x64AD;&#x62A5;</a></li>
</ul>
</li>
<li><a href="#part-3-%E8%BF%9B%E9%98%B6%E9%A1%B9%E7%9B%AE-%E7%89%A9%E8%81%94%E7%BD%91%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%B0%8F%E7%BB%BF"><strong>Part 3 &#x8FDB;&#x9636;&#x9879;&#x76EE;-&#x7269;&#x8054;&#x7F51;&#x673A;&#x5668;&#x4EBA;&#x5C0F;&#x7EFF;</strong></a>
<ul>
<li><a href="#part-31-%E7%BB%84%E8%A3%85%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%BB%BF%E6%9C%BA%E5%99%A8%E4%BA%BA">Part 3.1 &#x7EC4;&#x88C5;&#x4E00;&#x4E2A;&#x5C0F;&#x7EFF;&#x673A;&#x5668;&#x4EBA;</a></li>
<li><a href="#part-32-%E8%AE%AD%E7%BB%83%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E5%BC%80%E5%A7%8B%E5%92%8C%E5%B0%8F%E7%BB%BF%E8%81%8A%E5%A4%A9">Part 3.2 &#x8BAD;&#x7EC3;&#x8BED;&#x97F3;&#x8BC6;&#x522B;&#xFF0C;&#x5F00;&#x59CB;&#x548C;&#x5C0F;&#x7EFF;&#x804A;&#x5929;</a></li>
<li><a href="#part-33-%E8%AE%A9%E5%B0%8F%E7%BB%BF%E5%90%AC%E4%BD%A0%E6%8C%87%E6%8C%A5%E6%8E%A7%E5%88%B6%E4%B8%80%E5%88%87">Part 3.3 &#x8BA9;&#x5C0F;&#x7EFF;&#x542C;&#x4F60;&#x6307;&#x6325;&#xFF0C;&#x63A7;&#x5236;&#x4E00;&#x5207;</a></li>
<li><a href="#part-34-%E4%BD%BF%E7%94%A8google-blockly%E6%9D%A5%E6%8E%A7%E5%88%B6%E5%B0%8F%E7%BB%BF">Part 3.4 &#x4F7F;&#x7528;Google Blockly&#x6765;&#x63A7;&#x5236;&#x5C0F;&#x7EFF;</a></li>
<li><a href="#part-35-%E4%BD%BF%E7%94%A8openpose%E8%AE%A9%E5%B0%8F%E7%BB%BF%E5%AE%9E%E6%97%B6%E6%A8%A1%E4%BB%BF%E4%BD%A0%E7%9A%84%E5%8A%A8%E4%BD%9C">Part 3.5 &#x4F7F;&#x7528;OpenPose&#xFF0C;&#x8BA9;&#x5C0F;&#x7EFF;&#x5B9E;&#x65F6;&#x6A21;&#x4EFF;&#x4F60;&#x7684;&#x52A8;&#x4F5C;</a></li>
</ul>
</li>
<li><a href="#chapter-2-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%B8%8E%E6%9C%BA%E5%99%A8%E4%BA%BA"><strong>Chapter 2 &#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x4E0E;&#x673A;&#x5668;&#x4EBA;</strong></a></li>
<li><a href="#part-1-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3%E6%A1%88%E4%BE%8B%E4%BD%93%E9%AA%8C"><strong>Part 1 &#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x7B97;&#x6CD5;&#x76F8;&#x5173;&#x6848;&#x4F8B;&#x4F53;&#x9A8C;</strong></a>
<ul>
<li><a href="#part-11-tensorflow%E8%AE%AD%E7%BB%83%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E5%88%86%E7%B1%BB%E5%99%A8">Part 1.1 Tensorflow&#x8BAD;&#x7EC3;&#x81EA;&#x5B9A;&#x4E49;&#x56FE;&#x7247;&#x5206;&#x7C7B;&#x5668;</a></li>
<li><a href="#part-12-%E4%BD%BF%E7%94%A8rnn%E6%9D%A5%E7%94%9F%E6%88%90%E5%8F%A4%E8%AF%97%E8%AF%8D">Part 1.2 &#x4F7F;&#x7528;RNN&#x6765;&#x751F;&#x6210;&#x53E4;&#x8BD7;&#x8BCD;</a></li>
<li><a href="#part-13-%E8%AE%AD%E7%BB%83%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%B8%B8%E6%88%8Faideep-q-network">Part 1.3 &#x8BAD;&#x7EC3;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6E38;&#x620F;AI&#xFF08;Deep Q Network&#xFF09;</a></li>
<li><a href="#part-14-%E4%BD%BF%E7%94%A8%E8%BF%9B%E5%8C%96%E7%AE%97%E6%B3%95%E6%9D%A5%E8%AE%AD%E7%BB%83%E8%B6%85%E7%BA%A7%E9%A9%AC%E9%87%8C%E5%A5%A5">Part 1.4 &#x4F7F;&#x7528;&#x8FDB;&#x5316;&#x7B97;&#x6CD5;&#x6765;&#x8BAD;&#x7EC3;&#x8D85;&#x7EA7;&#x9A6C;&#x91CC;&#x5965;</a></li>
</ul>
</li>
<li><a href="#part-2-%E8%87%AA%E5%8A%A8%E8%BF%BD%E8%B8%AA%E5%B0%8F%E8%BD%A6"><strong>Part 2 &#x81EA;&#x52A8;&#x8FFD;&#x8E2A;&#x5C0F;&#x8F66;</strong></a>
<ul>
<li><a href="#part-21-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87%E4%B8%8E%E7%A1%AC%E4%BB%B6%E6%90%AD%E5%BB%BA">Part 2.1 &#x73AF;&#x5883;&#x51C6;&#x5907;&#x4E0E;&#x786C;&#x4EF6;&#x642D;&#x5EFA;</a></li>
<li><a href="#part-22-opencv%E6%9C%BA%E6%A2%B0%E8%87%82%E8%87%AA%E5%8A%A8%E6%8A%93%E5%8F%96%E7%89%B9%E5%AE%9A%E5%BD%A2%E7%8A%B6%E7%89%A9%E4%BD%93">Part 2.2 OpenCV&#x673A;&#x68B0;&#x81C2;&#x81EA;&#x52A8;&#x6293;&#x53D6;&#x7279;&#x5B9A;&#x5F62;&#x72B6;&#x7269;&#x4F53;</a></li>
<li><a href="#part-23-opencv%E5%88%86%E7%B1%BB%E5%99%A8%E8%AE%AD%E7%BB%83%E8%AE%A9%E5%B0%8F%E8%BD%A6%E8%BF%BD%E8%B8%AA%E7%89%B9%E5%AE%9A%E7%89%A9%E4%BD%93">Part 2.3 OpenCV&#x5206;&#x7C7B;&#x5668;&#x8BAD;&#x7EC3;&#xFF0C;&#x8BA9;&#x5C0F;&#x8F66;&#x8FFD;&#x8E2A;&#x7279;&#x5B9A;&#x7269;&#x4F53;</a></li>
</ul>
</li>
<li><a href="#part-3-%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6%E5%B0%8F%E8%BD%A6"><strong>Part 3 &#x65E0;&#x4EBA;&#x9A7E;&#x9A76;&#x5C0F;&#x8F66;</strong></a>
<ul>
<li><a href="#part-31-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87%E4%B8%8E%E7%A1%AC%E4%BB%B6%E6%90%AD%E5%BB%BA">Part 3.1 &#x73AF;&#x5883;&#x51C6;&#x5907;&#x4E0E;&#x786C;&#x4EF6;&#x642D;&#x5EFA;</a></li>
<li><a href="#part-32-%E7%94%B5%E6%9C%BA%E5%92%8C%E6%91%84%E5%83%8F%E5%A4%B4%E9%A9%B1%E5%8A%A8%E6%B5%8B%E8%AF%95">Part 3.2 &#x7535;&#x673A;&#x548C;&#x6444;&#x50CF;&#x5934;&#x9A71;&#x52A8;&#x6D4B;&#x8BD5;</a></li>
<li><a href="#part-33-%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%8F%8A%E8%AE%AD%E7%BB%83">Part 3.3 &#x65E0;&#x4EBA;&#x9A7E;&#x9A76;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x53CA;&#x8BAD;&#x7EC3;</a></li>
<li><a href="#part-34-%E5%BC%80%E5%A7%8B%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6">Part 3.4 &#x5F00;&#x59CB;&#x65E0;&#x4EBA;&#x9A7E;&#x9A76;</a></li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><strong>&#x73AF;&#x5883;&#x51C6;&#x5907;</strong></h2>

<p>&#x73AF;&#x5883;&#x51C6;&#x5907;&#x76F8;&#x5173;&#x6240;&#x6709;&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#xFF0C;<strong>&#x8BF7;<a href="ftp://home.hass.live">&#x70B9;&#x51FB;&#x8FD9;&#x91CC;</a>&#x6765;&#x4E0B;&#x8F7D;</strong><br>
&#x6240;&#x9700;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x5747;&#x4E3A;<code>sli</code><br>
&#x4E5F;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5728;&#x4E0B;&#x65B9;&#x63D0;&#x4F9B;&#x7684;&#x5B98;&#x65B9;&#x7F51;&#x5740;&#x4E0B;&#x8F7D;<br>
&#x63A8;&#x8350;&#x6309;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x5B89;&#x88C5;&#x4EE5;&#x4E0B;&#x8F6F;&#x4EF6;&#xFF0C;&#x4EE5;&#x907F;&#x514D;&#x56E0;&#x4F9D;&#x8D56;&#x95EE;&#x9898;&#x62A5;&#x9519;</p>
<h3 class="mume-header" id="anaconda">Anaconda</h3>

<p>Anaconda&#x662F;&#x4E00;&#x4E2A;Python&#x73AF;&#x5883;&#x7BA1;&#x7406;&#x8F6F;&#x4EF6;&#x3002;&#x5728;Windows&#xFF0C;Mac&#x3001;Linux&#x4E0A;&#x5747;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5B89;&#x88C5;<br>
&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#xFF1A;<a href="https://www.anaconda.com/distribution">https://www.anaconda.com/distribution</a></p>
<p><img src="https://md.hass.live/Xnip2019-04-30_10-37-45.png?imageView2/0/interlace/1/q/46%7Cimageslim" alt="Xnip2019-04-30_10-37-45"></p>
<p>&#x9009;&#x62E9;&#x9002;&#x5408;&#x81EA;&#x5DF1;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x5E76;&#x9009;&#x62E9;Python 3.7&#x7248;&#x672C;</p>
<h4 class="mume-header" id="%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4">&#x57FA;&#x672C;&#x547D;&#x4EE4;</h4>

<h5 class="mume-header" id="%E5%88%9B%E5%BB%BA%E7%8E%AF%E5%A2%83">&#x521B;&#x5EFA;&#x73AF;&#x5883;</h5>

<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers">conda create -n &#x73AF;&#x5883;&#x540D;&#x5B57;
//&#x4F8B;&#x5982;&#xFF1A;  
conda create -n py27 python<span class="token operator">=</span>2.7
//&#x8868;&#x793A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#x4E3A;py27&#xFF0C;&#x8FD0;&#x884C;python2.7&#x7684;&#x865A;&#x62DF;&#x73AF;&#x5883;
//&#x540E;&#x9762;&#x7684;python<span class="token operator">=</span>2.7&#x662F;&#x53EF;&#x9009;&#x8F93;&#x5165;
//&#x4E0D;&#x8F93;&#x5165;&#x65F6;&#x9ED8;&#x8BA4;&#x73AF;&#x5883;&#x662F;python3
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h5 class="mume-header" id="%E8%BF%9B%E5%85%A5%E7%8E%AF%E5%A2%83">&#x8FDB;&#x5165;&#x73AF;&#x5883;</h5>

<pre data-role="codeBlock" data-info="bash" class="language-bash">conda activate &#x73AF;&#x5883;&#x540D;&#x5B57;
//&#x4F8B;&#x5982;&#xFF1A;  
conda activate py27
</pre><h5 class="mume-header" id="%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E5%8C%85">&#x5B89;&#x88C5;&#x6307;&#x5B9A;&#x5305;</h5>

<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers">conda <span class="token function">install</span> &#x5305;&#x540D;  
//&#x4F8B;&#x5982;&#xFF1A;&#x5B89;&#x88C5;OpenCV
conda <span class="token function">install</span> opencv
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><h5 class="mume-header" id="%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4">&#x5176;&#x4ED6;&#x547D;&#x4EE4;</h5>

<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers">//&#x9000;&#x51FA;&#x73AF;&#x5883;
conda deactivate &#x73AF;&#x5883;&#x540D;&#x5B57;  
//&#x5217;&#x51FA;&#x73AF;&#x5883;
conda-env list
//&#x5220;&#x9664;&#x73AF;&#x5883;
conda-env remove -n &#x73AF;&#x5883;&#x540D;&#x5B57;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h4 class="mume-header" id="setup">setup</h4>

<p>1.&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;Anaconda<br>
2.macOS&#x7528;&#x6237;&#x6253;&#x5F00;<code>&#x7EC8;&#x7AEF;</code>, Windows&#x7528;&#x6237;&#x5728;&#x5F00;&#x59CB;&#x83DC;&#x5355;&#x6253;&#x5F00;<code>Anaconda Prompt</code><br>
3.&#x521B;&#x5EFA;&#x5E76;&#x8FDB;&#x5165;&#x73AF;&#x5883; (python&#x7248;&#x672C;&#x4E3A;&#x9ED8;&#x8BA4;&#x7684;3.x)<br>
4.&#x5728;&#x65B0;&#x73AF;&#x5883;&#x4E2D;&#x5B89;&#x88C5;TensorFlow&#x548C;OpenCV&#xFF08;&#x82E5;&#x7535;&#x8111;&#x6709;&#x72EC;&#x7ACB;&#x663E;&#x5361;&#x5E94;&#x5B89;&#x88C5;GPU&#x7248;&#x672C;&#x7684;TensorFlow&#xFF09;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers">//&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#x4E3A;myenv&#x7684;&#x865A;&#x62DF;&#x73AF;&#x5883;
conda create -n learn-ai
//&#x6FC0;&#x6D3B;myenv&#x865A;&#x62DF;&#x73AF;&#x5883;
conda activate learn-ai
//&#x65E0;&#x72EC;&#x7ACB;&#x663E;&#x5361;&#x7684;&#x7535;&#x8111;&#x4F7F;&#x7528;&#x8FD9;&#x6761;&#x547D;&#x4EE4;
conda <span class="token function">install</span> tensorflow
//&#x6709;&#x72EC;&#x7ACB;&#x663E;&#x5361;&#x7684;&#x7535;&#x8111;&#x4F7F;&#x7528;&#x8FD9;&#x6761;&#x547D;&#x4EE4;
conda <span class="token function">install</span> tensorflow-gpu
//&#x5B89;&#x88C5;opencv
conda <span class="token function">install</span> opencv
//&#x5B89;&#x88C5;git&#x547D;&#x4EE4;
conda <span class="token function">install</span> gi
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h3 class="mume-header" id="vscode">VSCode</h3>

<p>VSCode&#x662F;&#x5FAE;&#x8F6F;&#x51FA;&#x54C1;&#x7684;&#x514D;&#x8D39;&#x4EE3;&#x7801;&#x7F16;&#x8F91;&#x8F6F;&#x4EF6;&#x3002;&#x5728;Windows&#x3001;Mac&#x3001;Linux&#x4E0A;&#x5747;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5B89;&#x88C5;<br>
&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#xFF1A;<a href="https://code.visualstudio.com">https://code.visualstudio.com</a></p>
<h4 class="mume-header" id="setup-1">setup</h4>

<p>1.&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;VSCode<br>
2.&#x5B89;&#x88C5;&#x63D2;&#x4EF6;<code>Settings Sync</code></p>
<p><img src="https://md.hass.live/2019-04-29%2021.49.44.gif" alt="2019-04-29 21.49.44"></p>
<p>3.&#x8F93;&#x5165;<code>Shift</code>+<code>Alt</code>+<code>D</code>,&#x8F93;&#x5165;GitHub Token&#x548C;Gist Token(<a href="http://hass.live:8999/">&#x70B9;&#x51FB;&#x83B7;&#x53D6;</a>)&#xFF0C;&#x5373;&#x53EF;&#x4ECE;&#x670D;&#x52A1;&#x7AEF;&#x540C;&#x6B65;&#x8BBE;&#x7F6E;&#x3002;&#x514D;&#x53BB;&#x81EA;&#x5DF1;&#x914D;&#x7F6E;&#x7684;&#x9EBB;&#x70E6;</p>
<h3 class="mume-header" id="cp2102%E9%A9%B1%E5%8A%A8">CP2102&#x9A71;&#x52A8;</h3>

<p>&#x8FD9;&#x4E2A;&#x9A71;&#x52A8;&#x7528;&#x4E8E;&#x4F7F;&#x7528;USB&#x4E32;&#x53E3;&#x8FDE;&#x63A5;esp8266<br>
&#x6CE8;&#x610F;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x7248;&#x672C;&#x8FDB;&#x884C;&#x4E0B;&#x8F7D;&#x548C;&#x5B89;&#x88C5;<br>
&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;: <a href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers">https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers</a></p>
<h3 class="mume-header" id="arduino-ide">Arduino <abbr title="Integrated Development Environment,&#x96C6;&#x6210;&#x5F00;&#x53D1;&#x73AF;&#x5883;">IDE.</abbr></h3>

<p>Arduino IDE &#x662F;&#x9488;&#x5BF9;Arduino&#x63A7;&#x5236;&#x677F;&#x7684;&#x7F16;&#x7A0B;&#x548C;&#x4E0B;&#x8F7D;&#x5E73;&#x53F0;&#x3002;&#x5728;Windows&#xFF0C;Mac&#x3001;Linux&#x4E0A;&#x5747;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5B89;&#x88C5;&#xFF0C;Arduino&#x9879;&#x76EE;&#x6587;&#x4EF6;&#x7684;&#x540E;&#x7F00;&#x662F;<code>*.ino</code><br>
&#x9879;&#x76EE;&#x6587;&#x4EF6;&#x5E94;&#x5728;&#x4E0E;&#x9879;&#x76EE;&#x540D;&#x76F8;&#x540C;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x4E2D;<br>
&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#xFF1A;<a href="https://www.arduino.cc/en/Main/Software">https://www.arduino.cc/en/Main/Software</a></p>
<h4 class="mume-header" id="setup-2">setup</h4>

<p>1.&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;Arduino IDE<br>
2.&#x5728;<code>&#x6587;&#x4EF6;</code>&#x2013;<code>&#x9996;&#x9009;&#x9879;</code>&#x2013;<code>&#x9644;&#x52A0;&#x5F00;&#x53D1;&#x677F;&#x7BA1;&#x7406;&#x5668;&#x7F51;&#x5740;</code>&#x4E00;&#x680F;&#x4E2D;&#x8F93;&#x5165;<a href="https://arduino.esp8266.com/stable/package_esp8266com_index.json">https://arduino.esp8266.com/stable/package_esp8266com_index.json</a>&#xFF0C;&#x91CD;&#x542F;IDE</p>
<p><img src="https://md.hass.live/arduino-config-1.png?imageView2/0/interlace/1/q/46%7Cimageslim" alt="arduino-config-1"></p>
<p>3.&#x5728;<code>&#x5DE5;&#x5177;</code>&#x2013;<code>&#x5F00;&#x53D1;&#x677F;</code>&#x2013;<code>&#x5F00;&#x53D1;&#x677F;&#x7BA1;&#x7406;&#x5668;</code>&#x4E2D;&#x641C;&#x7D22;esp8266,&#x70B9;&#x51FB;&#x5BF9;&#x5E94;&#x9879;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<p><img src="https://md.hass.live/2019-04-29%2022.10.50.gif?imageView2/0/interlace/1/q/46%7Cimageslim" alt="2019-04-29 22.10.50"></p>
<p>4.&#x6253;&#x5F00;&#x94FE;&#x63A5;<a href="https://github.com/esp8266/arduino-esp8266fs-plugin/releases/tag/0.4.0">https://github.com/esp8266/arduino-esp8266fs-plugin/releases/tag/0.4.0</a>,&#x9009;&#x62E9;.zip&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#xFF0C;&#x5C06;&#x89E3;&#x538B;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x590D;&#x5236;&#x5230;<code>Arduino&#x5B89;&#x88C5;&#x76EE;&#x5F55;/tools</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;IDE</p>
<p><img src="https://md.hass.live/arduinoconfig2.png?imageView2/0/interlace/1/q/46%7Cimageslim" alt="arduino-config-2"></p>
<p>&#x9ED8;&#x8BA4;&#x7684;&#x8DEF;&#x5F84;&#x5E94;&#x8BE5;&#x662F;&#x8FD9;&#x6837;&#xFF1A;<code>C:\Program Files (x86)\Arduino\tools\esp8266FS\tool\esp8266fs.jar</code><br>
&#x5982;&#x679C;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF0C;&#x4F1A;&#x5728;<code>&#x5DE5;&#x5177;</code>&#x83DC;&#x5355;&#x4E0B;&#x770B;&#x5230;&#x4E0B;&#x56FE;&#x9009;&#x9879;:</p>
<center><img src="https://md.hass.live/niji/2019-05-07-Xnip2019-05-07_23-41-38.png"></center>
<p>5.&#x8BBE;&#x7F6E;&#x5F00;&#x53D1;&#x677F;&#x548C;&#x7AEF;&#x53E3;</p>
<center><img src="https://md.hass.live/Xnip2019-05-05_16-49-07.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<h3 class="mume-header" id="%E5%85%B6%E4%BB%96">&#x5176;&#x4ED6;</h3>

<p>&#x8DEF;&#x7531;&#x5668;&#x8BBE;&#x7F6E;SSID&#x540D;&#x5B57;&#x4E3A;<strong>AI</strong>&#xFF0C;&#x5BC6;&#x7801;&#x4E3A;<strong>raspberry</strong><br>
&#x8DEF;&#x7531;&#x5668;&#x7BA1;&#x7406;&#x5730;&#x5740;&#x8BBE;&#x7F6E;&#x4E3A;<a href="http://192.168.0.1">http://192.168.0.1</a>&#x6216;&#x9ED8;&#x8BA4;&#x5730;&#x5740;<br>
Xshell&#xFF08;Windows&#xFF09;&#x3001;FinalShell&#xFF08;macOS&#xFF09;&#x3001;Google Chrome&#x3001;VNC Viewer&#x7B49;</p>
<h3 class="mume-header" id="%E4%B8%8B%E8%BD%BD%E8%AF%BE%E7%A8%8B%E6%89%80%E9%9C%80%E6%96%87%E4%BB%B6">&#x4E0B;&#x8F7D;&#x8BFE;&#x7A0B;&#x6240;&#x9700;&#x6587;&#x4EF6;</h3>

<p>macOS&#x7528;&#x6237;&#x6253;&#x5F00;<code>&#x7EC8;&#x7AEF;</code><br>
Windows&#x7528;&#x6237;&#x6253;&#x5F00;<code>Anaconda Prompt</code></p>
<p>macOS&#x7528;&#x6237;&#x6267;&#x884C;<code>git clone https://github.com/nijisakai/learn-ai.git ~/Desktop/learn-ai/</code><br>
&#x6587;&#x4EF6;&#x88AB;&#x4E0B;&#x8F7D;&#x5230;&#x684C;&#x9762;&#x4E0B;&#x9762;&#x7684;learn-ai&#x6587;&#x4EF6;&#x5939;</p>
<p>Windows&#x7528;&#x6237;&#x6267;&#x884C;<code>git clone https://github.com/nijisakai/learn-ai.git C:/learn-ai</code><br>
&#x6587;&#x4EF6;&#x88AB;&#x4E0B;&#x8F7D;&#x5230;C&#x76D8;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x7684;learn-ai&#x6587;&#x4EF6;&#x5939;</p>
<hr>
<h2 class="mume-header" id="chapter-1-%E7%89%A9%E8%81%94%E7%BD%91%E4%B8%8E%E6%9C%BA%E5%99%A8%E4%BA%BA"><strong>Chapter 1 &#x7269;&#x8054;&#x7F51;&#x4E0E;&#x673A;&#x5668;&#x4EBA;</strong></h2>

<pre class="language-text">&#x672C;&#x7AE0;&#x5185;&#x5BB9;&#x662F;&#x5173;&#x4E8E;&#x4F7F;&#x7528;&#x53EF;&#x7F16;&#x7A0B;&#x7684;&#x5F00;&#x6E90;&#x786C;&#x4EF6;&#xFF0C;&#x5C06;&#x529F;&#x80FD;&#x70B9;&#x8FDB;&#x884C;&#x5206;&#x89E3;&#xFF0C;&#x5E76;&#x6700;&#x7EC8;&#x5B9E;&#x73B0;&#x7EFC;&#x5408;&#x9879;&#x76EE;  
&#x4E3B;&#x8981;&#x5305;&#x62EC;:  
 1. &#x4F7F;&#x7528;&#x7269;&#x8054;&#x7F51;&#x5F00;&#x53D1;&#x677F;&#x6765;&#x8BFB;&#x53D6;&#x548C;&#x63A7;&#x5236;&#x4F20;&#x611F;&#x5668;&#x3001;&#x706F;&#x548C;&#x8235;&#x673A;&#x7B49;&#x8BBE;&#x5907;
 2. &#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x7269;&#x8054;&#x7F51;&#x5E73;&#x53F0;&#xFF0C;&#x5B9E;&#x73B0;&#x8BED;&#x97F3;&#x63A7;&#x5236;&#x548C;&#x4EBA;&#x8138;&#x89E3;&#x9501;
 3. &#x81EA;&#x4E3B;&#x8BBE;&#x8BA1;&#x5236;&#x4F5C;&#x4E00;&#x4E2A;&#x878D;&#x5408;&#x4E86;&#x591A;&#x79CD;&#x529F;&#x80FD;&#x7684;&#x57FA;&#x4E8E;3D&#x6253;&#x5370;&#x7269;&#x8054;&#x7F51;&#x673A;&#x5668;&#x4EBA;&#x6216;&#x5C0F;&#x8F66;
</pre>
<h2 class="mume-header" id="part-1-%E4%BD%BF%E7%94%A8esp8266%E5%BC%80%E5%8F%91%E6%9D%BF%E8%AF%BB%E5%8F%96%E5%92%8C%E6%8E%A7%E5%88%B6%E4%BC%A0%E6%84%9F%E5%99%A8-%E8%88%B5%E6%9C%BA%E5%92%8C%E7%94%B5%E6%9C%BA"><strong>Part 1 &#x4F7F;&#x7528;esp8266&#x5F00;&#x53D1;&#x677F;&#x8BFB;&#x53D6;&#x548C;&#x63A7;&#x5236;&#x4F20;&#x611F;&#x5668;&#x3001;&#x8235;&#x673A;&#x548C;&#x7535;&#x673A;</strong></h2>

<pre class="language-text">esp8266&#x662F;&#x4E00;&#x4E2A;&#x4EF7;&#x683C;&#x4F4E;&#x5EC9;&#x7684;&#x5F00;&#x53D1;&#x677F;&#xFF0C;&#x5305;&#x542B;WiFi&#x6A21;&#x5757;&#x548C;GPIO&#xFF0C;&#x53EF;&#x4EE5;&#x8FDE;&#x63A5;&#x4F20;&#x611F;&#x5668;&#x3001;&#x8235;&#x673A;&#x3001;&#x9A6C;&#x8FBE;&#x7B49;&#x5404;&#x79CD;&#x8BBE;&#x5907;&#x3002;&#x4F7F;&#x7528;Arduino IDE&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#x7F16;&#x7A0B;&#x3002;&#x53EF;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x3001;&#x4E32;&#x53E3;&#x548C;&#x84DD;&#x7259;&#x7B49;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x901A;&#x4FE1;
</pre>
<h3 class="mume-header" id="part-11-%E4%BD%BF%E7%94%A8esp8266%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%8A%E8%AF%BB%E5%8F%96%E4%BC%A0%E6%84%9F%E5%99%A8%E6%95%B0%E6%8D%AE%E7%BB%98%E5%88%B6%E5%AE%9E%E6%97%B6%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF">Part 1.1 &#x4F7F;&#x7528;esp8266&#x5728;&#x7F51;&#x9875;&#x4E0A;&#x8BFB;&#x53D6;&#x4F20;&#x611F;&#x5668;&#x6570;&#x636E;&#xFF0C;&#x7ED8;&#x5236;&#x5B9E;&#x65F6;&#x53D8;&#x5316;&#x66F2;&#x7EBF;</h3>

<pre class="language-text">&#x8FD9;&#x90E8;&#x5206;&#x8BA9;&#x4F60;&#x719F;&#x6089;&#x64CD;&#x4F5C;esp8266&#x7684;&#x6B65;&#x9AA4;&#x3002;&#x662F;&#x7B2C;&#x4E00;&#x7AE0;&#x7684;&#x57FA;&#x7840;  
&#x5305;&#x62EC;&#x529F;&#x80FD;&#x63D0;&#x51FA;&#x548C;&#x5B9E;&#x73B0;&#xFF0C;&#x786C;&#x4EF6;&#x8FDE;&#x63A5;&#xFF0C;&#x4E0A;&#x4F20;&#x7684;&#x53C2;&#x6570;&#x8C03;&#x8282;&#x548C;html&#x6587;&#x4EF6;&#x5728;&#x672C;&#x5730;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;&#x6253;&#x5F00;&#xFF0C;&#x4F20;&#x611F;&#x5668;&#x6570;&#x636E;&#x7684;&#x5B9E;&#x65F6;&#x5448;&#x73B0;&#x7B49;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;Chart.js&#x6765;&#x7ED8;&#x5236;&#x5B9E;&#x65F6;&#x53D8;&#x5316;&#x66F2;&#x7EBF;  
&#x8FD9;&#x90E8;&#x5206;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4E24;&#x79CD;&#x4F20;&#x611F;&#x5668;&#x7684;&#x8BFB;&#x53D6;&#xFF0C;&#x4E3A;&#x6E29;&#x6E7F;&#x5EA6;&#x4F20;&#x611F;&#x5668;&#x548C;&#x8D85;&#x58F0;&#x6CE2;&#x4F20;&#x611F;&#x5668;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95">&#x786C;&#x4EF6;&#x6E05;&#x5355;</h5>

<ul>
<li>esp8266&#x4E3B;&#x677F;</li>
<li>&#x6E29;&#x6E7F;&#x5EA6;&#x4F20;&#x611F;&#x5668;&#xFF08;&#x578B;&#x53F7;&#x4E3A;DHT11&#x6216;DHT22&#xFF09;</li>
<li>&#x8D85;&#x58F0;&#x6CE2;&#x4F20;&#x611F;&#x5668;&#xFF08;&#x578B;&#x53F7;&#x4E3A;HC-SR04&#xFF09;</li>
<li>&#x675C;&#x90A6;&#x7EBF;&#x3001;&#x6570;&#x636E;&#x7EBF;</li>
</ul>
<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</h5>

<center><img src="https://md.hass.live/Xnip2019-05-05_11-52-46.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<center><img src="https://md.hass.live/Xnip2019-05-05_12-02-00.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E7%AE%80%E5%8D%95%E8%AF%BB%E5%8F%96">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x7B80;&#x5355;&#x8BFB;&#x53D6;</h5>

<p>1.&#x6253;&#x5F00;<code>learn-ai</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter1/part1/esp8266_projects/esp8266_dht11_https</code><br>
2.&#x5C06;esp8266&#x901A;&#x8FC7;&#x6570;&#x636E;&#x7EBF;&#x8FDE;&#x63A5;&#x5230;&#x7535;&#x8111;<br>
3.&#x4F7F;&#x7528;Arduino IDE&#x6253;&#x5F00;&#x6587;&#x4EF6;<code>esp8266_dht11_https.ino</code><br>
4.&#x8BB0;&#x5F97;&#x628A;&#x524D;&#x9762;&#x7684;<a href="#setup-2">&#x73AF;&#x5883;&#x51C6;&#x5907;</a>&#x90E8;&#x5206;&#x518D;&#x6B21;&#x786E;&#x8BA4;&#xFF0C;&#x5C06;&#x73AF;&#x5883;&#x6B63;&#x786E;&#x914D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x4E0A;&#x4F20;&#x6309;&#x94AE;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;</p>
<center><img src="https://md.hass.live/niji/2019-05-08-Xnip2019-05-08_10-15-02.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<p>5.&#x6253;&#x5F00;<a href="http://192.168.0.1">&#x8DEF;&#x7531;&#x5668;&#x7BA1;&#x7406;&#x5730;&#x5740;</a>&#xFF0C;esp8266&#x6B64;&#x65F6;&#x5E94;&#x8BE5;&#x5DF2;&#x7ECF;&#x52A0;&#x5165;&#x5230;&#x4E86;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#xFF0C;&#x67E5;&#x770B;esp8266&#x83B7;&#x53D6;&#x5230;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x5730;&#x5740;<br>
6.&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6253;&#x5F00;esp8266&#x83B7;&#x53D6;&#x5230;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x5730;&#x5740;&#xFF0C;&#x67E5;&#x770B;&#x6E29;&#x6E7F;&#x5EA6;&#x4F20;&#x611F;&#x5668;&#x7684;&#x8BFB;&#x6570;<br>
7.&#x8FDE;&#x63A5;&#x53E6;&#x4E00;&#x4E2A;esp8266&#x5F00;&#x53D1;&#x677F;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter1/part1/esp8266_projects/esp8266_ultrasonic_https</code>,&#x518D;&#x6B21;&#x6267;&#x884C;2-6&#x6B65;&#x9AA4;&#x6765;&#x4F7F;&#x7528;&#x8D85;&#x58F0;&#x6CE2;&#x4F20;&#x611F;&#x5668;</p>
<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E7%BB%98%E5%88%B6%E5%AE%9E%E6%97%B6%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x7ED8;&#x5236;&#x5B9E;&#x65F6;&#x53D8;&#x5316;&#x66F2;&#x7EBF;</h5>

<p>1.&#x6253;&#x5F00;<code>learn-ai</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter1/part1/esp8266_projects/esp8266_dht11_http_chartjs</code><br>
2.&#x5C06;esp8266&#x901A;&#x8FC7;&#x6570;&#x636E;&#x7EBF;&#x8FDE;&#x63A5;&#x5230;&#x7535;&#x8111;<br>
3.&#x4F7F;&#x7528;Arduino IDE&#x6253;&#x5F00;&#x6587;&#x4EF6; <code>esp8266_dht11_http_chartjs.ino</code><br>
4.&#x8BB0;&#x5F97;&#x628A;&#x524D;&#x9762;&#x7684;<a href="#setup-2">&#x73AF;&#x5883;&#x51C6;&#x5907;</a>&#x90E8;&#x5206;&#x518D;&#x6B21;&#x786E;&#x8BA4;&#xFF0C;&#x5C06;&#x73AF;&#x5883;&#x6B63;&#x786E;&#x914D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x4E0A;&#x4F20;&#x6309;&#x94AE;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;</p>
<center><img src="https://md.hass.live/niji/2019-05-08-Xnip2019-05-08_10-15-02.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<p>5.&#x6253;&#x5F00;<a href="http://192.168.0.1">&#x8DEF;&#x7531;&#x5668;&#x7BA1;&#x7406;&#x5730;&#x5740;</a>&#xFF0C;esp8266&#x6B64;&#x65F6;&#x5E94;&#x8BE5;&#x5DF2;&#x7ECF;&#x52A0;&#x5165;&#x5230;&#x4E86;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#xFF0C;&#x67E5;&#x770B;esp8266&#x83B7;&#x53D6;&#x5230;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x5730;&#x5740;<br>
6.&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6253;&#x5F00;esp8266&#x83B7;&#x53D6;&#x5230;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x5730;&#x5740;&#xFF0C;&#x67E5;&#x770B;&#x6E29;&#x6E7F;&#x5EA6;&#x4F20;&#x611F;&#x5668;&#x7684;&#x8BFB;&#x6570;</p>
<center><img src="https://md.hass.live/niji/2019-05-08-Xnip2019-05-08_10-13-13.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<h5 class="mume-header" id="%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3">&#x4EE3;&#x7801;&#x8BE6;&#x89E3;</h5>

<ul>
<li>&#x6E29;&#x6E7F;&#x5EA6;&#x4F20;&#x611F;&#x5668;</li>
</ul>
<pre data-role="codeBlock" data-info="arduino {code_chunk_offset=1, .line-numbers} {cmd}" class="language-arduino line-numbers"><span class="token comment">//&#x4E24;&#x4E2A;&#x53CD;&#x659C;&#x6760;&#x4EE3;&#x8868;&#x5355;&#x884C;&#x6CE8;&#x91CA;&#xFF0C;&#x8FD9;&#x540E;&#x9762;&#x7684;&#x6587;&#x5B57;&#x4E0D;&#x4F1A;&#x88AB;&#x6267;&#x884C;</span>

<span class="token comment">/*
  &#x88AB;&#x661F;&#x53F7;&#x548C;&#x53CD;&#x659C;&#x6760;&#x5305;&#x56F4;&#x7684;&#x90E8;&#x5206;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x591A;&#x884C;&#x6CE8;&#x91CA;
*/</span>

<span class="token comment">/*&#x4F7F;&#x7528;&#x591A;&#x884C;&#x6CE8;&#x91CA;&#x7B26;

  Arduino&#x7A0B;&#x5E8F;&#x5305;&#x542B;&#x4E86;&#x4E24;&#x4E2A;&#x4E3B;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5206;&#x522B;&#x662F;
  void setup()&#x548C;void loop()
  &#x65B9;&#x6CD5;&#x540E;&#x9762;&#x5199;&#x4E00;&#x5BF9;{},&#x5728;&#x8FD9;&#x91CC;&#x9762;&#x5199;&#x65B9;&#x6CD5;&#x7684;&#x5177;&#x4F53;&#x5185;&#x5BB9;&#x3002;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x662F;&#x8FD9;&#x6837;&#xFF1A;
  void setup(){
    &#x81EA;&#x5DF1;&#x89C4;&#x5B9A;&#x7684;&#x8BED;&#x53E5;
    &#x81EA;&#x5DF1;&#x89C4;&#x5B9A;&#x7684;&#x8BED;&#x53E5;
    &#x81EA;&#x5DF1;&#x89C4;&#x5B9A;&#x7684;&#x8BED;&#x53E5;
  }
  void loop(){
    &#x81EA;&#x5DF1;&#x89C4;&#x5B9A;&#x7684;&#x8BED;&#x53E5;
    &#x81EA;&#x5DF1;&#x89C4;&#x5B9A;&#x7684;&#x8BED;&#x53E5;
    &#x81EA;&#x5DF1;&#x89C4;&#x5B9A;&#x7684;&#x8BED;&#x53E5;
  }
*/</span>


<span class="token comment">//&#x4F7F;&#x7528; #include&#x6765;&#x5F15;&#x7528;&#x4E00;&#x4E9B;&#x9644;&#x52A0;&#x7684;&#x529F;&#x80FD;&#x3002;</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266WiFi.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266WebServer.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;DHT.h&quot;</span></span>




<span class="token comment">/////////////////////////////////////////////</span>
<span class="token comment">////////////////&#x4E0B;&#x9762;&#x7684;&#x90E8;&#x5206;&#x8BF7;&#x4F60;&#x914D;&#x7F6E;//////////////</span>
<span class="token comment">/////////////////////////////////////////////</span>

<span class="token comment">// 1&#xFE0F;&#x20E3;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x54EA;&#x4E00;&#x79CD;DHT&#x4F20;&#x611F;&#x5668;&#x3002;&#x901A;&#x8FC7;&#x53BB;&#x6389;&#x524D;&#x9762;&#x7684;&#x6CE8;&#x91CA;&#x7B26;&#x6765;&#x4F7F;&#x8BED;&#x53E5;&#x751F;&#x6548;</span>
<span class="token macro property">#<span class="token directive keyword">define</span> DHTTYPE DHT11   </span><span class="token comment">// DHT 11</span>
<span class="token comment">//#define DHTTYPE DHT21   // DHT 21 (AM2301)</span>
<span class="token comment">//#define DHTTYPE DHT22   // DHT 22  (AM2302), AM2321</span>

<span class="token comment">// 2&#xFE0F;&#x20E3;&#x628A;&#x5F15;&#x53F7;&#x91CC;&#x7684;&#x5185;&#x5BB9;&#x66FF;&#x6362;&#x4E3A;&#x81EA;&#x5DF1;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;</span>
const char<span class="token operator">*</span> ssid <span class="token operator">=</span> <span class="token string">&quot;AI&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// &#x8F93;&#x5165;&#x8DEF;&#x7531;&#x5668;&#x7528;&#x6237;&#x540D;</span>
const char<span class="token operator">*</span> password <span class="token operator">=</span> <span class="token string">&quot;raspberry&quot;</span><span class="token punctuation">;</span>  <span class="token comment">//&#x8F93;&#x5165;&#x8DEF;&#x7531;&#x5668;&#x5BC6;&#x7801;</span>

<span class="token comment">// 3&#xFE0F;&#x20E3;&#x628A;DHT&#x4F20;&#x611F;&#x5668;&#x7684;Data&#x63A5;&#x53E3;&#x8FDE;&#x63A5;&#x5230;D8&#x3002;&#x6B64;&#x5904;&#x4E0E;&#x786C;&#x4EF6;&#x8FDE;&#x7EBF;&#x5BF9;&#x5E94;&#x5373;&#x53EF;</span>
uint8_t DHTPin <span class="token operator">=</span> D8<span class="token punctuation">;</span>

<span class="token comment">// 4&#xFE0F;&#x20E3;&#x9ED8;&#x8BA4;&#x4E3A;80&#x7AEF;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x6539;&#x4E3A;&#x5176;&#x4ED6;&#x7AEF;&#x53E3;&#xFF0C;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#x5728;&#x6700;&#x540E;&#x52A0;&#x4E0A;&#xFF08;:&#x7AEF;&#x53E3;&#x540D;&#xFF09;</span>
esp8266WebServer <span class="token function">server</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/////////////////////////////////////////////</span>
<span class="token comment">////////////////&#x4E0A;&#x9762;&#x7684;&#x90E8;&#x5206;&#x8BF7;&#x4F60;&#x914D;&#x7F6E;//////////////</span>
<span class="token comment">/////////////////////////////////////////////</span>

<span class="token comment">// &#x521D;&#x59CB;&#x5316;&#x4F60;&#x8FDE;&#x63A5;&#x7684;DHT&#x4F20;&#x611F;&#x5668;</span>
DHT <span class="token function">dht</span><span class="token punctuation">(</span>DHTPin<span class="token punctuation">,</span> DHTTYPE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//&#x5B9A;&#x4E49;&#x4E24;&#x4E2A;float&#x53D8;&#x91CF;&#x6765;&#x8BFB;&#x53D6;&#x6E29;&#x6E7F;&#x5EA6;</span>
float Temperature<span class="token punctuation">;</span> <span class="token comment">//&#x6E29;&#x5EA6;</span>
float Humidity<span class="token punctuation">;</span> <span class="token comment">//&#x6E7F;&#x5EA6;</span>


<span class="token comment">//&#x5F00;&#x59CB;&#x6700;&#x540E;&#x7684;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;</span>
<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">pinMode</span><span class="token punctuation">(</span>DHTPin<span class="token punctuation">,</span> <span class="token constant">INPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  dht<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Connecting to &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ssid<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//&#x68C0;&#x67E5;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6B63;&#x5E38;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;WiFi connected..!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Got IP: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> handle_OnConnect<span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">onNotFound</span><span class="token punctuation">(</span>handle_NotFound<span class="token punctuation">)</span><span class="token punctuation">;</span>

  server<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;http server started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">handle_OnConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Temperature <span class="token operator">=</span> dht<span class="token punctuation">.</span><span class="token function">readTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Humidity <span class="token operator">=</span> dht<span class="token punctuation">.</span><span class="token function">readHumidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html&quot;</span><span class="token punctuation">,</span> <span class="token function">SendHTML</span><span class="token punctuation">(</span>Temperature<span class="token punctuation">,</span>Humidity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">handle_NotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">String</span> <span class="token function">SendHTML</span><span class="token punctuation">(</span>float Temperaturestat<span class="token punctuation">,</span>float Humiditystat<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">String</span> ptr <span class="token operator">=</span> <span class="token string">&quot;&lt;!DOCTYPE html&gt; &lt;html&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;head&gt;&lt;meta charset=\&quot;UTF-8\&quot;&gt;&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0, user-scalable=no\&quot;&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;title&gt;esp8266 DHT11&lt;/title&gt;\n&quot;</span><span class="token punctuation">;</span>

  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;script&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;setInterval(loadDoc,200);\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;function loadDoc() {\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;var xhttps = new XMLhttpsRequest();\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;xhttps.onreadystatechange = function() {\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;if (this.readyState == 4 &amp;&amp; this.status == 200) {\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;document.getElementById(\&quot;webpage\&quot;).innerHTML =this.responseText}\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;};\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;xhttps.open(\&quot;GET\&quot;, \&quot;/\&quot;, true);\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;xhttps.send();\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;}\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/script&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/head&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;body&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;div id=\&quot;webpage\&quot;&gt;\n&quot;</span><span class="token punctuation">;</span>

  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;p&gt;&#x6E29;&#x5EA6;: &quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>Temperaturestat<span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&#xB0;C&lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;p&gt;&#x6E7F;&#x5EA6;: &quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>Humiditystat<span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;%&lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
  
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/div&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/body&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/html&gt;\n&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//&#x6240;&#x6709;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#x5C31;&#x7EEA;&#xFF0C;&#x5F00;&#x59CB;&#x5DE5;&#x4F5C;</span>
<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  server<span class="token punctuation">.</span><span class="token function">handleClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><ul>
<li>&#x8D85;&#x58F0;&#x6CE2;&#x4F20;&#x611F;&#x5668;</li>
</ul>
<pre data-role="codeBlock" data-info="arduino {.line-numbers}" class="language-arduino line-numbers"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;Arduino.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266WiFi.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266WiFiMulti.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266httpsClient.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266WebServer.h&gt;</span></span>
<span class="token comment">// utlrasonic pinout</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ULTRASONIC_TRIG_PIN     5   </span><span class="token comment">// pin TRIG to D1</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ULTRASONIC_ECHO_PIN     4   </span><span class="token comment">// pin ECHO to D2</span>

const char<span class="token operator">*</span> wifi_ssid <span class="token operator">=</span> <span class="token string">&quot;AI&quot;</span><span class="token punctuation">;</span>             <span class="token comment">// SSID</span>
const char<span class="token operator">*</span> wifi_password <span class="token operator">=</span> <span class="token string">&quot;raspberry&quot;</span><span class="token punctuation">;</span>         <span class="token comment">// WIFI</span>
esp8266WebServer <span class="token function">server</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
esp8266WiFiMulti WiFiMulti<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*****************************************************&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;********** Program Start : Connect Ultrasonic HC-SR04 + esp8266 to AskSensors over http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Wait for WiFi... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;********** connecting to WIFI : &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>wifi_ssid<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>wifi_ssid<span class="token punctuation">,</span> wifi_password<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-&gt; WiFi connected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-&gt; IP address: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ultraonic setup</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>ULTRASONIC_TRIG_PIN<span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>ULTRASONIC_ECHO_PIN<span class="token punctuation">,</span> <span class="token constant">INPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> handle_OnConnect<span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">onNotFound</span><span class="token punctuation">(</span>handle_NotFound<span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">handle_OnConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">long</span> duration<span class="token punctuation">,</span> distance<span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>ULTRASONIC_TRIG_PIN<span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delayMicroseconds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>ULTRASONIC_TRIG_PIN<span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delayMicroseconds</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>ULTRASONIC_TRIG_PIN<span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  duration <span class="token operator">=</span> <span class="token function">pulseIn</span><span class="token punctuation">(</span>ULTRASONIC_ECHO_PIN<span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  distance <span class="token operator">=</span> <span class="token punctuation">(</span>duration<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">29.1</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html&quot;</span><span class="token punctuation">,</span> <span class="token function">SendHTML</span><span class="token punctuation">(</span>distance<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">handle_NotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">String</span> <span class="token function">SendHTML</span><span class="token punctuation">(</span><span class="token keyword">long</span> distance<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">String</span> ptr <span class="token operator">=</span> <span class="token string">&quot;&lt;!DOCTYPE html&gt; &lt;html&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;head&gt;&lt;meta charset=\&quot;UTF-8\&quot;&gt;&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0, user-scalable=no\&quot;&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;title&gt;esp8266 DHT11&lt;/title&gt;\n&quot;</span><span class="token punctuation">;</span>

  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;script&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;setInterval(loadDoc,200);\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;function loadDoc() {\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;var xhttps = new XMLhttpsRequest();\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;xhttps.onreadystatechange = function() {\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;if (this.readyState == 4 &amp;&amp; this.status == 200) {\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;document.getElementById(\&quot;webpage\&quot;).innerHTML =this.responseText}\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;};\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;xhttps.open(\&quot;GET\&quot;, \&quot;/\&quot;, true);\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;xhttps.send();\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;}\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/script&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/head&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;body&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;div id=\&quot;webpage\&quot;&gt;\n&quot;</span><span class="token punctuation">;</span>
  
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;p&gt;&#x8DDD;&#x79BB;: &quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token punctuation">(</span>float<span class="token punctuation">)</span>distance<span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&#x5398;&#x7C73;&lt;/p&gt;&quot;</span><span class="token punctuation">;</span>

  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/div&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/body&gt;\n&quot;</span><span class="token punctuation">;</span>
  ptr <span class="token operator">+=</span><span class="token string">&quot;&lt;/html&gt;\n&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  server<span class="token punctuation">.</span><span class="token function">handleClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><ul>
<li>&#x6E29;&#x6E7F;&#x5EA6;&#x4F20;&#x611F;&#x5668;&#x53D8;&#x5316;&#x66F2;&#x7EBF;</li>
</ul>
<pre data-role="codeBlock" data-info="arduino {.line-numbers}" class="language-arduino line-numbers"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ESP8266WiFi.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;WiFiClient.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ESP8266WebServer.h&gt;</span></span>
 
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;index.h&quot;</span> </span><span class="token comment">//Our HTML webpage contents with javascripts</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;DHTesp.h&quot;</span>  </span><span class="token comment">//DHT11 Library for ESP</span>
  
<span class="token macro property">#<span class="token directive keyword">define</span> LED 2        </span><span class="token comment">//On board LED</span>
<span class="token macro property">#<span class="token directive keyword">define</span> DHTpin 15    </span><span class="token comment">//D8 of NodeMCU is GPIO15</span>

DHTesp dht<span class="token punctuation">;</span>

const char<span class="token operator">*</span> ssid <span class="token operator">=</span> <span class="token string">&quot;AI&quot;</span><span class="token punctuation">;</span>
const char<span class="token operator">*</span> password <span class="token operator">=</span> <span class="token string">&quot;raspberry&quot;</span><span class="token punctuation">;</span>

ESP8266WebServer <span class="token function">server</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Server on port 80</span>

<span class="token keyword">void</span> <span class="token function">handleRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">String</span> s <span class="token operator">=</span> MAIN_page<span class="token punctuation">;</span> <span class="token comment">//Read HTML contents</span>
 server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Send web page</span>
<span class="token punctuation">}</span>

float humidity<span class="token punctuation">,</span> temperature<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">handleADC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>A0<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token keyword">String</span> data <span class="token operator">=</span> <span class="token string">&quot;{\&quot;ADC\&quot;:\&quot;&quot;</span><span class="token operator">+</span><span class="token keyword">String</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;\&quot;, \&quot;Temperature\&quot;:\&quot;&quot;</span><span class="token operator">+</span> <span class="token keyword">String</span><span class="token punctuation">(</span>temperature<span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">&quot;\&quot;, \&quot;Humidity\&quot;:\&quot;&quot;</span><span class="token operator">+</span> <span class="token keyword">String</span><span class="token punctuation">(</span>humidity<span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">&quot;\&quot;}&quot;</span><span class="token punctuation">;</span>

 <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED<span class="token punctuation">,</span><span class="token operator">!</span><span class="token function">digitalRead</span><span class="token punctuation">(</span>LED<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Toggle LED on data request ajax</span>
 server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plane&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Send ADC value, temperature and humidity JSON to client ajax request</span>

 <span class="token comment">//Get Humidity temperatue data after request is complete</span>
 <span class="token comment">//Give enough time to handle client to avoid problems</span>
  <span class="token function">delay</span><span class="token punctuation">(</span>dht<span class="token punctuation">.</span><span class="token function">getMinimumSamplingPeriod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  humidity <span class="token operator">=</span> dht<span class="token punctuation">.</span><span class="token function">getHumidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  temperature <span class="token operator">=</span> dht<span class="token punctuation">.</span><span class="token function">getTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>humidity<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>temperature<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>dht<span class="token punctuation">.</span><span class="token function">toFahrenheit</span><span class="token punctuation">(</span>temperature<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//==============================================================</span>
<span class="token comment">//                  SETUP</span>
<span class="token comment">//==============================================================</span>
<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  dht<span class="token punctuation">.</span><span class="token keyword">setup</span><span class="token punctuation">(</span>DHTpin<span class="token punctuation">,</span> DHTesp<span class="token operator">::</span>DHT11<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//for DHT11 Connect DHT sensor to GPIO 17</span>
  <span class="token comment">//dht.setup(DHTpin, DHTesp::DHT22); //for DHT22 Connect DHT sensor to GPIO 17</span>

  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//Connect to your WiFi router</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//Onboard LED port Direction output</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>LED<span class="token punctuation">,</span><span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  
  <span class="token comment">// Wait for connection</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//If connection successful show IP address in serial monitor</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Connected to &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ssid<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;IP address: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//IP address assigned to your ESP</span>

  server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> handleRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//Which routine to handle at root location. This is display page</span>
  server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;/readADC&quot;</span><span class="token punctuation">,</span> handleADC<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//This page is called by java Script AJAX</span>

  server<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//Start server</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;HTTP server started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//==============================================================</span>
<span class="token comment">//                     LOOP</span>
<span class="token comment">//==============================================================</span>
<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  server<span class="token punctuation">.</span><span class="token function">handleClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//Handle client requests</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h3 class="mume-header" id="part-12-wifi%E9%81%A5%E6%8E%A7%E5%B0%8F%E8%BD%A6">Part 1.2 WiFi&#x9065;&#x63A7;&#x5C0F;&#x8F66;</h3>

<pre class="language-text">&#x4F7F;&#x7528;esp8266&#xFF0C;&#x901A;&#x8FC7;&#x7F51;&#x9875;&#x7AEF;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#xFF0C;&#x9065;&#x63A7;&#x4E00;&#x8F86;&#x5C0F;&#x8F66;
</pre>
<h4 class="mume-header" id="demo"><strong>demo</strong></h4>

<center><iframe src="http://hass.live:9000" width="600" height="300" scrolling="no"></iframe></center>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-1"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-1">&#x786C;&#x4EF6;&#x6E05;&#x5355;</h5>

<ul>
<li>esp8266&#x4E3B;&#x677F;</li>
<li>&#x7535;&#x673A;&#x6269;&#x5C55;&#x677F; esp12E Motor Shield</li>
<li>&#x5C0F;&#x8F66;&#x5957;&#x4EF6;(3D&#x6253;&#x5370;&#x7684;&#x5E95;&#x76D8;&#x548C;&#x5939;&#x5C42;&#xFF0C;&#x7535;&#x673A;&#xFF0C;&#x8F66;&#x8F6E;&#xFF0C;&#x94DC;&#x67F1;&#x7B49;)</li>
<li>&#x675C;&#x90A6;&#x7EBF;&#xFF0C;&#x6570;&#x636E;&#x7EBF;</li>
</ul>
<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-1">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</h5>

<center><img src="https://md.hass.live/niji/2019-05-07-Xnip2019-05-07_17-10-07.png"></center>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-1"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</h5>

<p>1.&#x6253;&#x5F00;<code>learn-ai</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter1/part1/esp8266_projects/esp8266_wificar_https</code><br>
2.&#x5C06;esp8266&#x901A;&#x8FC7;&#x6570;&#x636E;&#x7EBF;&#x8FDE;&#x63A5;&#x5230;&#x7535;&#x8111;<br>
3.&#x4F7F;&#x7528;Arduino IDE&#x6253;&#x5F00;&#x6587;&#x4EF6;<code>esp8266_wificar_https.ino</code><br>
4.&#x8BB0;&#x5F97;&#x628A;&#x524D;&#x9762;&#x7684;<a href="#setup-2">&#x73AF;&#x5883;&#x51C6;&#x5907;</a>&#x90E8;&#x5206;&#x518D;&#x6B21;&#x786E;&#x8BA4;&#xFF0C;&#x5C06;&#x73AF;&#x5883;&#x6B63;&#x786E;&#x914D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x4E0A;&#x4F20;&#x6309;&#x94AE;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;</p>
<center><img src="https://md.hass.live/niji/2019-05-08-Xnip2019-05-08_10-15-02.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<p>5.&#x70B9;&#x51FB;<code>&#x5DE5;&#x5177;</code>&#x83DC;&#x5355;&#xFF0C;&#x9009;&#x62E9;<code>ESP8266 Sketch Data Upload</code>,&#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x4E0B;&#x7684;data&#x6587;&#x4EF6;&#x5939;&#x4E0A;&#x4F20;&#x5230;esp8266&#x5F00;&#x53D1;&#x677F;&#x4E0A;<br>
6.&#x6253;&#x5F00;<a href="http://192.168.0.1">&#x8DEF;&#x7531;&#x5668;&#x7BA1;&#x7406;&#x5730;&#x5740;</a>&#xFF0C;esp8266&#x6B64;&#x65F6;&#x5E94;&#x8BE5;&#x5DF2;&#x7ECF;&#x52A0;&#x5165;&#x5230;&#x4E86;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#xFF0C;&#x67E5;&#x770B;esp8266&#x83B7;&#x53D6;&#x5230;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x5730;&#x5740;<br>
7.&#x5C06;esp8266&#x4E0E;&#x7535;&#x8111;&#x8FDE;&#x63A5;&#x65AD;&#x5F00;&#xFF0C;&#x8FDE;&#x63A5;&#x5230;&#x79FB;&#x52A8;&#x7535;&#x6E90;&#x4E0A;<br>
8.&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6253;&#x5F00;esp8266&#x83B7;&#x53D6;&#x5230;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x5730;&#x5740;&#xFF0C;&#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x4E0A;&#x4E0B;&#x5DE6;&#x53F3;&#x6309;&#x94AE;&#x6216;&#x952E;&#x76D8;&#x7684;&#x5149;&#x6807;&#x952E;&#x6765;&#x63A7;&#x5236;&#x5C0F;&#x8F66;</p>
<h5 class="mume-header" id="%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3-1">&#x4EE3;&#x7801;&#x8BE6;&#x89E3;</h5>

<ul>
<li>WiFi&#x5C0F;&#x8F66;&#x7A0B;&#x5E8F;</li>
</ul>
<pre data-role="codeBlock" data-info="arduino {.line-numbers}" class="language-arduino line-numbers"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266WiFi.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;WiFiClient.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266WebServer.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266mDNS.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;FS.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> Motor_AE D1      </span><span class="token comment">//Motor A/B,E enable,D Direction</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Motor_AD D3</span>

<span class="token macro property">#<span class="token directive keyword">define</span> Motor_BE D2</span>
<span class="token macro property">#<span class="token directive keyword">define</span> Motor_BD D4</span>

<span class="token macro property">#<span class="token directive keyword">define</span> R_AHEAD HIGH</span>
<span class="token macro property">#<span class="token directive keyword">define</span> L_AHEAD LOW</span>

<span class="token keyword">String</span> command<span class="token punctuation">;</span>

esp8266WebServer <span class="token function">server</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

const <span class="token keyword">int</span> led <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">carInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
  <span class="token function">pinMode</span><span class="token punctuation">(</span>Motor_AE<span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>Motor_AD<span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>Motor_BE<span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>Motor_BD<span class="token punctuation">,</span> <span class="token constant">OUTPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Car begin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">goAhead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_AE<span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_AD<span class="token punctuation">,</span> L_AHEAD<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_BE<span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_BD<span class="token punctuation">,</span> R_AHEAD<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_AE<span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_AD<span class="token punctuation">,</span> <span class="token operator">!</span>L_AHEAD<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_BE<span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_BD<span class="token punctuation">,</span> <span class="token operator">!</span>R_AHEAD<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">goRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_BE<span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_AE<span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_AD<span class="token punctuation">,</span> L_AHEAD<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">goLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_BE<span class="token punctuation">,</span> <span class="token constant">HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_AE<span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_BD<span class="token punctuation">,</span> R_AHEAD<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">stopRobot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_AE<span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>Motor_BE<span class="token punctuation">,</span> <span class="token constant">LOW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">handleNotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>led<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">String</span> message <span class="token operator">=</span> <span class="token string">&quot;File Not Found\n\n&quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token string">&quot;URI: &quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> server<span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token string">&quot;\nMethod: &quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token punctuation">(</span>server<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> https_GET<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">&quot;GET&quot;</span><span class="token operator">:</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token string">&quot;\nArguments: &quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> server<span class="token punctuation">.</span><span class="token function">args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>uint8_t i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>server<span class="token punctuation">.</span><span class="token function">args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    message <span class="token operator">+=</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> server<span class="token punctuation">.</span><span class="token function">argName</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> server<span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>led<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">carInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  SPIFFS<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  uint8_t mac<span class="token punctuation">[</span>WL_MAC_ADDR_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">softAPmacAddress</span><span class="token punctuation">(</span>mac<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">String</span> macID <span class="token operator">=</span> <span class="token keyword">String</span><span class="token punctuation">(</span>mac<span class="token punctuation">[</span>WL_MAC_ADDR_LENGTH <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> HEX<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">String</span><span class="token punctuation">(</span>mac<span class="token punctuation">[</span>WL_MAC_ADDR_LENGTH <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> HEX<span class="token punctuation">)</span><span class="token punctuation">;</span>
  macID<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">String</span> AP_NameString <span class="token operator">=</span> <span class="token string">&quot;Wifi Car - &quot;</span> <span class="token operator">+</span> macID<span class="token punctuation">;</span>

  char AP_NameChar<span class="token punctuation">[</span>AP_NameString<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">memset</span><span class="token punctuation">(</span>AP_NameChar<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> AP_NameString<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> AP_NameString<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    AP_NameChar<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> AP_NameString<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

const char<span class="token operator">*</span> ssid <span class="token operator">=</span> <span class="token string">&quot;AI&quot;</span><span class="token punctuation">;</span>
const char<span class="token operator">*</span> password <span class="token operator">=</span> <span class="token string">&quot;raspberry&quot;</span><span class="token punctuation">;</span>
  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">mode</span><span class="token punctuation">(</span>WIFI_STA<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Connected to &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ssid<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;IP address: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>MDNS<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token string">&quot;esp8266&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MDNS responder started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>


  <span class="token comment">//server.on(&quot;/&quot;, handleRoot);</span>
  server<span class="token punctuation">.</span><span class="token function">serveStatic</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> SPIFFS<span class="token punctuation">,</span> <span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;/get&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">String</span> uri <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
    command <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token string">&quot;command&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token string">&quot;forward&quot;</span><span class="token punctuation">)</span>
      <span class="token function">goAhead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token string">&quot;backward&quot;</span><span class="token punctuation">)</span>
      <span class="token function">goBack</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token string">&quot;left&quot;</span><span class="token punctuation">)</span>
      <span class="token function">goLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">)</span>
       <span class="token function">goRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token string">&quot;stop&quot;</span><span class="token punctuation">)</span>
       <span class="token function">stopRobot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//    setCorlor(red.toInt(),green.toInt(),blue.toInt());</span>
    server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> <span class="token keyword">String</span><span class="token punctuation">(</span><span class="token string">&quot;set to &quot;</span><span class="token punctuation">)</span><span class="token operator">+</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  server<span class="token punctuation">.</span><span class="token function">onNotFound</span><span class="token punctuation">(</span>handleNotFound<span class="token punctuation">)</span><span class="token punctuation">;</span>

  server<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;http server started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  server<span class="token punctuation">.</span><span class="token function">handleClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h3 class="mume-header" id="part-13-%E4%BD%BF%E7%94%A8esp8266%E9%80%9A%E8%BF%87wifi%E6%8E%A7%E5%88%B6%E6%9C%BA%E6%A2%B0%E8%87%82%E8%88%B5%E6%9C%BA">Part 1.3 &#x4F7F;&#x7528;esp8266&#x901A;&#x8FC7;WiFi&#x63A7;&#x5236;&#x673A;&#x68B0;&#x81C2;&#x8235;&#x673A;</h3>

<pre class="language-text">&#x4F7F;&#x7528;esp8266&#xFF0C;&#x901A;&#x8FC7;&#x7F51;&#x9875;&#x7AEF;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#xFF0C;&#x63A7;&#x5236;&#x591A;&#x4E2A;&#x8235;&#x673A;
</pre>
<h4 class="mume-header" id="demo-1"><strong>demo</strong></h4>

<center><iframe src="http://hass.live:9001" width="600" height="300" scrolling="no"></iframe></center>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-2"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-2">&#x786C;&#x4EF6;&#x6E05;&#x5355;</h5>

<ul>
<li>esp8266&#x4E3B;&#x677F;</li>
<li>&#x8235;&#x673A;</li>
<li>&#x675C;&#x90A6;&#x7EBF;&#x3001;&#x6570;&#x636E;&#x7EBF;</li>
<li>&#x673A;&#x68B0;&#x81C2;3D&#x6253;&#x5370;&#x6E90;&#x6587;&#x4EF6;&#x548C;&#x96F6;&#x4EF6;</li>
</ul>
<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-2">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</h5>

<center><img src="https://md.hass.live/Xnip2019-05-05_11-57-01.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<center>&#x6B64;&#x5904;&#x8868;&#x793A;&#x8235;&#x673A;&#x8FDE;&#x63A5;&#x5230;&#x4E86;D0&#x53E3;&#xFF0C;&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x8FDE;9&#x4E2A;&#x8235;&#x673A;&#xFF08;D0-D9&#xFF09;<br>
<font color="orange">&#x9EC4;&#x8272;</font>-&#x4FE1;&#x53F7;D<br>
<font color="red">&#x7EA2;&#x8272;</font>-&#x6B63;&#x6781;V<br>
<font color="brown">&#x68D5;&#x8272;</font>-&#x8D1F;&#x6781;G<br>
</center>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-2"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-1">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</h5>

<p>1.&#x6253;&#x5F00;<code>learn-ai</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter1/part1/esp8266_projects/esp8266_servoarm_https</code><br>
2.&#x5C06;esp8266&#x901A;&#x8FC7;&#x6570;&#x636E;&#x7EBF;&#x8FDE;&#x63A5;&#x5230;&#x7535;&#x8111;<br>
3.&#x4F7F;&#x7528;Arduino IDE&#x6253;&#x5F00;&#x6587;&#x4EF6;<code>esp8266_servoarm_https.ino</code><br>
4.&#x8BB0;&#x5F97;&#x628A;&#x524D;&#x9762;&#x7684;<a href="#setup-2">&#x73AF;&#x5883;&#x51C6;&#x5907;</a>&#x90E8;&#x5206;&#x518D;&#x6B21;&#x786E;&#x8BA4;&#xFF0C;&#x5C06;&#x73AF;&#x5883;&#x6B63;&#x786E;&#x914D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x4E0A;&#x4F20;&#x6309;&#x94AE;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;</p>
<center><img src="https://md.hass.live/niji/2019-05-08-Xnip2019-05-08_10-15-02.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<p>5.&#x70B9;&#x51FB;<code>&#x5DE5;&#x5177;</code>&#x83DC;&#x5355;&#xFF0C;&#x9009;&#x62E9;<code>ESP8266 Sketch Data Upload</code>,&#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x4E0B;&#x7684;data&#x6587;&#x4EF6;&#x5939;&#x4E0A;&#x4F20;&#x5230;esp8266&#x5F00;&#x53D1;&#x677F;&#x4E0A;<br>
6.&#x6253;&#x5F00;<a href="http://192.168.0.1">&#x8DEF;&#x7531;&#x5668;&#x7BA1;&#x7406;&#x5730;&#x5740;</a>&#xFF0C;esp8266&#x6B64;&#x65F6;&#x5E94;&#x8BE5;&#x5DF2;&#x7ECF;&#x52A0;&#x5165;&#x5230;&#x4E86;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#xFF0C;&#x67E5;&#x770B;esp8266&#x83B7;&#x53D6;&#x5230;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x5730;&#x5740;<br>
7.&#x5C06;esp8266&#x4E0E;&#x7535;&#x8111;&#x8FDE;&#x63A5;&#x65AD;&#x5F00;&#xFF0C;&#x8FDE;&#x63A5;&#x5230;&#x79FB;&#x52A8;&#x7535;&#x6E90;&#x4E0A;<br>
8.&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6253;&#x5F00;esp8266&#x83B7;&#x53D6;&#x5230;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x5730;&#x5740;&#xFF0C;&#x901A;&#x8FC7;&#x62D6;&#x52A8;&#x6ED1;&#x5757;&#x6765;&#x63A7;&#x5236;&#x673A;&#x68B0;&#x81C2;</p>
<h5 class="mume-header" id="%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3-2">&#x4EE3;&#x7801;&#x8BE6;&#x89E3;</h5>

<ul>
<li>WiFi&#x673A;&#x68B0;&#x81C2;&#x7A0B;&#x5E8F;</li>
</ul>
<pre data-role="codeBlock" data-info="arduino {.line-numbers}" class="language-arduino line-numbers"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;esp8266WiFi.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;FS.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;Servo.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;server.h&quot;</span></span>

const char<span class="token operator">*</span> WIFI_SSID <span class="token operator">=</span> <span class="token string">&quot;AI&quot;</span><span class="token punctuation">;</span>
const char<span class="token operator">*</span> WIFI_PASSWORD <span class="token operator">=</span> <span class="token string">&quot;raspberry&quot;</span><span class="token punctuation">;</span>

<span class="token builtin">Servo</span> servos<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
uint8_t servo_pins<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>D0<span class="token punctuation">,</span>D1<span class="token punctuation">,</span>D2<span class="token punctuation">,</span>D3<span class="token punctuation">,</span>D4<span class="token punctuation">,</span>D5<span class="token punctuation">,</span>D6<span class="token punctuation">,</span>D7<span class="token punctuation">,</span>D8<span class="token punctuation">}</span><span class="token punctuation">;</span>
uint8_t count <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setAngle</span><span class="token punctuation">(</span>uint8_t di<span class="token punctuation">,</span>uint8_t vi<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>di<span class="token operator">&lt;</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> vi <span class="token operator">&lt;</span> <span class="token number">180</span><span class="token punctuation">)</span>
    servos<span class="token punctuation">[</span>di<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>vi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">attachServos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>uint8_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
    servos<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>servo_pins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">detachServos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>uint8_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
    servos<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">detach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">handleNotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">String</span> message <span class="token operator">=</span> <span class="token string">&quot;File Not Found\n\n&quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token string">&quot;URI: &quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> server<span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token string">&quot;\nMethod: &quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token punctuation">(</span>server<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> https_GET<span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">&quot;GET&quot;</span><span class="token operator">:</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token string">&quot;\nArguments: &quot;</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> server<span class="token punctuation">.</span><span class="token function">args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  message <span class="token operator">+=</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>uint8_t i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>server<span class="token punctuation">.</span><span class="token function">args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    message <span class="token operator">+=</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> server<span class="token punctuation">.</span><span class="token function">argName</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> server<span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token keyword">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// init the serial</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Server initial&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//init the server</span>
  SPIFFS<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SPIFFS begin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">attachServos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Servos attached&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">serveStatic</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> SPIFFS<span class="token punctuation">,</span> <span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;/set-servo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">String</span> uri <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">String</span> di <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token string">&quot;di&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">String</span> vi <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token string">&quot;vi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;di=&quot;</span><span class="token operator">+</span>di<span class="token operator">+</span><span class="token string">&quot; vi=&quot;</span><span class="token operator">+</span>vi<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setAngle</span><span class="token punctuation">(</span>di<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>vi<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> <span class="token keyword">String</span><span class="token punctuation">(</span><span class="token string">&quot;set to &quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;di=&quot;</span><span class="token operator">+</span>di<span class="token operator">+</span><span class="token string">&quot; vi=&quot;</span><span class="token operator">+</span>vi<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">onNotFound</span><span class="token punctuation">(</span>handleNotFound<span class="token punctuation">)</span><span class="token punctuation">;</span>
  server<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;http server started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  

  <span class="token comment">// init the WiFi connection</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;INFO: Connecting to &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">mode</span><span class="token punctuation">(</span>WIFI_STA<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>WIFI_SSID<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>WIFI_SSID<span class="token punctuation">,</span> WIFI_PASSWORD<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;INFO: WiFi connected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;INFO: IP address: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">Serial</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token builtin">WiFi</span><span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token keyword">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  server<span class="token punctuation">.</span><span class="token function">handleClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><h3 class="mume-header" id="part-14-esp32%E7%BD%91%E7%BB%9C%E6%91%84%E5%83%8F%E5%A4%B4%E4%B8%8E%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB">Part 1.4 esp32&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x4E0E;&#x4EBA;&#x8138;&#x8BC6;&#x522B;</h3>

<pre class="language-text">esp32&#x662F;esp8266&#x7684;&#x5347;&#x7EA7;&#x7248;&#x672C;&#x3002;&#x62E5;&#x6709;&#x66F4;&#x5F3A;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF0C;&#x80FD;&#x591F;&#x5F88;&#x597D;&#x7684;&#x5904;&#x7406;&#x5B9E;&#x65F6;&#x89C6;&#x9891;&#x548C;&#x97F3;&#x9891;&#x7B49;&#x6570;&#x636E;&#x3002;&#x901A;&#x8FC7;&#x672C;&#x90E8;&#x5206;&#x6765;&#x4E3A;&#x5C0F;&#x8F66;&#x589E;&#x52A0;&#x5B9E;&#x65F6;&#x89C6;&#x9891;&#x7684;&#x529F;&#x80FD;&#x3002;  
&#x4E5F;&#x8BB8;&#xFF0C;&#x4F60;&#x4F1A;&#x5E0C;&#x671B;&#x5728;&#x5C0F;&#x8F66;&#x4E0A;&#x88C5;&#x4E00;&#x4E2A;&#x6444;&#x50CF;&#x5934;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x8EAB;&#x4E34;&#x5176;&#x5883;&#x7684;&#x9065;&#x63A7;&#x5B83;&#x4E86;&#x3002;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-3"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-3">&#x786C;&#x4EF6;&#x6E05;&#x5355;</h5>

<ul>
<li>esp8266&#x4E3B;&#x677F;</li>
<li>&#x8235;&#x673A;</li>
<li>&#x675C;&#x90A6;&#x7EBF;&#x3001;&#x6570;&#x636E;&#x7EBF;</li>
<li>&#x673A;&#x68B0;&#x81C2;3D&#x6253;&#x5370;&#x6E90;&#x6587;&#x4EF6;&#x548C;&#x96F6;&#x4EF6;</li>
</ul>
<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-3">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</h5>

<center><img src="https://md.hass.live/404.gif"></center>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-3"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-2">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</h5>

<p>1.&#x6253;&#x5F00;<code>learn-ai</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;`chapter1/part1/<br>
2.TBC</p>
<h5 class="mume-header" id="%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3-3">&#x4EE3;&#x7801;&#x8BE6;&#x89E3;</h5>

<ul>
<li>&#x7A0B;&#x5E8F;</li>
</ul>
<pre data-role="codeBlock" data-info="arduino {.line-numbers}" class="language-arduino line-numbers"><span class="token keyword">do</span> something
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></pre><h3 class="mume-header" id="part-15-%E7%BB%BC%E5%90%88%E4%B8%8E%E8%BF%9B%E9%98%B6">Part 1.5 &#x7EFC;&#x5408;&#x4E0E;&#x8FDB;&#x9636;</h3>

<pre class="language-text">&#x8BD5;&#x7740;&#x628A;&#x524D;&#x9762;&#x7684;&#x529F;&#x80FD;&#x6574;&#x5408;&#x5230;&#x4E00;&#x4E2A;&#x5C0F;&#x8F66;&#x4E0A;&#xFF0C;&#x5E76;&#x5728;&#x4E00;&#x4E2A;&#x754C;&#x9762;&#x4E0A;&#x5BF9;&#x5B83;&#x4EEC;&#x8FDB;&#x884C;&#x8BFB;&#x53D6;&#x548C;&#x63A7;&#x5236;&#x3002;
</pre>
<h4 class="mume-header" id="%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81"><strong>&#x53C2;&#x8003;&#x4EE3;&#x7801;</strong></h4>

<ul>
<li><a href="%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5">&#x4F20;&#x611F;&#x5668;+&#x5C0F;&#x8F66;+&#x673A;&#x68B0;&#x81C2;+&#x6444;&#x50CF;&#x5934;</a></li>
</ul>
<h4 class="mume-header" id="%E6%8A%93%E5%8F%96%E5%A4%A7%E8%B5%9B"><strong>&#x6293;&#x53D6;&#x5927;&#x8D5B;</strong></h4>

<pre class="language-text">&#x6BCF;&#x5C0F;&#x7EC4;&#x4E3A;&#x4E00;&#x4E2A;&#x961F;&#x4F0D;&#xFF0C;&#x6309;&#x7167;&#x89C4;&#x5219;&#x6BD4;&#x8D5B;&#x6293;&#x53D6;&#x7269;&#x54C1;
</pre>
<h5 class="mume-header" id="%E6%AF%94%E8%B5%9B%E8%A7%84%E5%88%99">&#x6BD4;&#x8D5B;&#x89C4;&#x5219;</h5>

<ul>
<li>sector 1</li>
<li>sector 2</li>
<li>sector 3</li>
</ul>
<h3 class="mume-header" id="%E5%B0%BE%E5%A3%B0">&#x5C3E;&#x58F0;</h3>

<p>&#x901A;&#x8FC7;&#x524D;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x4F60;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65E0;&#x7EBF;&#x7F51;&#x7EDC;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8BA9;esp8266&#x8BFB;&#x53D6;&#x4F20;&#x611F;&#x5668;&#x6570;&#x636E;&#xFF0C;&#x63A7;&#x5236;&#x7B80;&#x5355;&#x7684;&#x7535;&#x673A;&#xFF0C;&#x67E5;&#x770B;&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x7B49;&#x3002;&#x5176;&#x5B9E;&#x8FD9;&#x4E9B;&#x5DF2;&#x7ECF;&#x662F;&#x7269;&#x8054;&#x7F51;&#x7684;&#x96CF;&#x5F62;&#x3002;</p>
<p>&#x5728;&#x540E;&#x9762;&#x7684;&#x7AE0;&#x8282;&#x91CC;&#xFF0C;&#x7ED3;&#x5408;&#x5F3A;&#x5927;&#x7684;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#xFF0C;&#x4F60;&#x7684;&#x5C0F;&#x8F66;&#x4F1A;&#x6108;&#x53D1;&#x5F3A;&#x5927;&#x3002;<br>
&#x901A;&#x8FC7;&#x8BED;&#x97F3;&#x6280;&#x672F;&#xFF0C;&#x8BA9;&#x5C0F;&#x8F66;&#x542C;&#x61C2;&#x4F60;&#x7684;&#x6307;&#x4EE4;<br>
&#x901A;&#x8FC7;&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;&#xFF0C;&#x8BA9;&#x673A;&#x68B0;&#x81C2;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x548C;&#x6293;&#x53D6;&#x7279;&#x5B9A;&#x7269;&#x4F53;<br>
&#x901A;&#x8FC7;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#xFF0C;&#x8BA9;&#x5C0F;&#x8F66;&#x81EA;&#x52A8;&#x8FFD;&#x8E2A;&#x7279;&#x5B9A;&#x7269;&#x4F53;&#xFF0C;&#x4EE5;&#x53CA;&#x65E0;&#x4EBA;&#x9A7E;&#x9A76;</p>
<hr>
<h2 class="mume-header" id="part-2-%E7%89%A9%E8%81%94%E7%BD%91%E5%BC%80%E6%BA%90%E5%B9%B3%E5%8F%B0home-assistant%E5%88%9B%E6%84%8F%E5%BA%94%E7%94%A8"><strong>Part 2 &#x7269;&#x8054;&#x7F51;&#x5F00;&#x6E90;&#x5E73;&#x53F0;Home Assistant&#x521B;&#x610F;&#x5E94;&#x7528;</strong></h2>

<pre class="language-text">Home Assistant&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x7269;&#x8054;&#x7F51;&#x5E73;&#x53F0;&#xFF0C;&#x517C;&#x5BB9;&#x5404;&#x79CD;&#x7269;&#x8054;&#x7F51;&#x534F;&#x8BAE;&#x3002;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x7684;&#x63A5;&#x5165;&#x548C;&#x63A7;&#x5236;&#x5404;&#x79CD;&#x8BBE;&#x5907;  
&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x4E3B;&#x8981;&#x5728;&#x6811;&#x8393;&#x6D3E;&#xFF08;Raspberry Pi&#xFF09;&#x4E0A;&#x9762;&#x8FDB;&#x884C;  
&#x6811;&#x8393;&#x6D3E;&#x4E0A;&#x7684;Python&#x73AF;&#x5883;&#x4F7F;&#x7528; miniconda &#x8FDB;&#x884C;&#x7BA1;&#x7406;  
&#x6811;&#x8393;&#x6D3E;&#x662F;&#x8FD0;&#x884C;Linux&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x5FAE;&#x578B;&#x5361;&#x7247;&#x7535;&#x8111;&#xFF0C;&#x62E5;&#x6709;GPIO&#x7AEF;&#x53E3;&#x4E0E;&#x5176;&#x4ED6;&#x786C;&#x4EF6;&#x901A;&#x4FE1;&#xFF0C;&#x4E5F;&#x5177;&#x6709;HDMI&#xFF0C;USB&#x7AEF;&#x53E3;&#x8FDE;&#x63A5;&#x663E;&#x793A;&#x8BBE;&#x5907;&#x7B49;  
&#x6811;&#x8393;&#x6D3E;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5728;SD&#x5361;&#x4E0A;&#xFF0C;&#x5206;&#x53D1;&#x7ED9;&#x540C;&#x5B66;&#x7684;SD&#x5361;&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x4E86;&#x6240;&#x6709;&#x7684;&#x73AF;&#x5883;&#x548C;&#x4F9D;&#x8D56;&#xFF0C;&#x76F8;&#x5173;&#x7684;&#x6587;&#x6863;&#x5728;&#x684C;&#x9762;&#x4E0A;  
</pre>
<h3 class="mume-header" id="part-21-home-assistant%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE">Part 2.1 Home Assistant&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;</h3>

<p>&#x672C;&#x8BFE;&#x7A0B;&#x91C7;&#x7528;<a href="https://baike.baidu.com/item/Docker/13344470?fr=aladdin">Docker</a>&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-4"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-4">&#x786C;&#x4EF6;&#x6E05;&#x5355;</h5>

<ul>
<li>&#x6811;&#x8393;&#x6D3E;</li>
</ul>
<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-4">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</h5>

<center><img src="https://md.hass.live/404.gif"></center>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-4"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B">&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;</h5>

<p>&#x5728;&#x6811;&#x8393;&#x6D3E;&#x4E0A;&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#xFF0C;&#x6267;&#x884C;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers">//&#x5B89;&#x88C5;Docker
<span class="token function">curl</span> -ssl https://get.docker.com <span class="token operator">|</span> sh

//&#x5B89;&#x88C5;&#x6307;&#x5B9A;&#x7248;&#x672C;&#x7684;Home Assistant&#xFF0C;&#x672C;&#x90E8;&#x5206;&#x6307;&#x5B9A;&#x7248;&#x672C;&#x4E3A;0.82.0
<span class="token function">sudo</span> docker run --init -d --name<span class="token operator">=</span><span class="token string">&quot;home-assistant&quot;</span> -v /home/pi/homeassistant:/config -v /etc/localtime:/etc/localtime:ro --net<span class="token operator">=</span>host homeassistant/raspberrypi3-homeassistant:0.82.0

//&#x542F;&#x52A8;Docker&#x955C;&#x50CF;
<span class="token function">sudo</span> docker start home-assistant

//&#x8FDB;&#x5165;&#x955C;&#x50CF;
<span class="token function">sudo</span> docker <span class="token function">exec</span> -it home-assistant <span class="token function">env</span> LANG<span class="token operator">=</span>C.UTF-8 /bin/bash
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x663E;&#x793A;&#x5E94;&#x548C;&#x4E0B;&#x56FE;&#x7C7B;&#x4F3C;&#xFF1A;</p>
<center><img src="https://md.hass.live/Xnip2019-05-07_18-35-34.png"></center>
<p>&#x672C;&#x5904;&#x5373;&#x4E3A;Home Assistant&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br>
&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x5728;<code>configuration.yaml</code>&#x4E2D;<br>
&#x6587;&#x4EF6;&#x5939;<code>custom_components</code>&#x5B58;&#x653E;&#x81EA;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;</p>
<h3 class="mume-header" id="part-22-home-assistant%E6%8E%A7%E5%88%B6esp8266%E5%BD%A9%E8%89%B2%E7%81%AF">Part 2.2 Home Assistant&#x63A7;&#x5236;esp8266&#x5F69;&#x8272;&#x706F;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-5"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-5"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-23-home-assistant%E8%BF%9B%E8%A1%8C%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E5%92%8C%E8%AF%AD%E9%9F%B3%E6%92%AD%E6%8A%A5">Part 2.3 Home Assistant&#x8FDB;&#x884C;&#x4EBA;&#x8138;&#x8BC6;&#x522B;&#x548C;&#x8BED;&#x97F3;&#x64AD;&#x62A5;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-6"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-6"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<hr>
<h2 class="mume-header" id="part-3-%E8%BF%9B%E9%98%B6%E9%A1%B9%E7%9B%AE-%E7%89%A9%E8%81%94%E7%BD%91%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%B0%8F%E7%BB%BF"><strong>Part 3 &#x8FDB;&#x9636;&#x9879;&#x76EE;-&#x7269;&#x8054;&#x7F51;&#x673A;&#x5668;&#x4EBA;&#x5C0F;&#x7EFF;</strong></h2>

<pre class="language-text">&#x7B80;&#x4ECB;
</pre>
<h3 class="mume-header" id="part-31-%E7%BB%84%E8%A3%85%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%BB%BF%E6%9C%BA%E5%99%A8%E4%BA%BA">Part 3.1 &#x7EC4;&#x88C5;&#x4E00;&#x4E2A;&#x5C0F;&#x7EFF;&#x673A;&#x5668;&#x4EBA;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-7"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-7"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-32-%E8%AE%AD%E7%BB%83%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E5%BC%80%E5%A7%8B%E5%92%8C%E5%B0%8F%E7%BB%BF%E8%81%8A%E5%A4%A9">Part 3.2 &#x8BAD;&#x7EC3;&#x8BED;&#x97F3;&#x8BC6;&#x522B;&#xFF0C;&#x5F00;&#x59CB;&#x548C;&#x5C0F;&#x7EFF;&#x804A;&#x5929;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-8"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-8"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-33-%E8%AE%A9%E5%B0%8F%E7%BB%BF%E5%90%AC%E4%BD%A0%E6%8C%87%E6%8C%A5%E6%8E%A7%E5%88%B6%E4%B8%80%E5%88%87">Part 3.3 &#x8BA9;&#x5C0F;&#x7EFF;&#x542C;&#x4F60;&#x6307;&#x6325;&#xFF0C;&#x63A7;&#x5236;&#x4E00;&#x5207;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-9"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-9"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-34-%E4%BD%BF%E7%94%A8google-blockly%E6%9D%A5%E6%8E%A7%E5%88%B6%E5%B0%8F%E7%BB%BF">Part 3.4 &#x4F7F;&#x7528;Google Blockly&#x6765;&#x63A7;&#x5236;&#x5C0F;&#x7EFF;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-10"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-10"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-35-%E4%BD%BF%E7%94%A8openpose%E8%AE%A9%E5%B0%8F%E7%BB%BF%E5%AE%9E%E6%97%B6%E6%A8%A1%E4%BB%BF%E4%BD%A0%E7%9A%84%E5%8A%A8%E4%BD%9C">Part 3.5 &#x4F7F;&#x7528;OpenPose&#x8BA9;&#x5C0F;&#x7EFF;&#x5B9E;&#x65F6;&#x6A21;&#x4EFF;&#x4F60;&#x7684;&#x52A8;&#x4F5C;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-11"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-11"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<hr>
<h2 class="mume-header" id="chapter-2-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%B8%8E%E6%9C%BA%E5%99%A8%E4%BA%BA"><strong>Chapter 2 &#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x4E0E;&#x673A;&#x5668;&#x4EBA;</strong></h2>

<pre class="language-text">&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x5305;&#x62EC;&#x2026;&#x2026;
</pre>
<h2 class="mume-header" id="part-1-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3%E6%A1%88%E4%BE%8B%E4%BD%93%E9%AA%8C"><strong>Part 1 &#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x7B97;&#x6CD5;&#x76F8;&#x5173;&#x6848;&#x4F8B;&#x4F53;&#x9A8C;</strong></h2>

<pre class="language-text">&#x4ECB;&#x7ECD;
</pre>
<h3 class="mume-header" id="part-11-tensorflow%E8%AE%AD%E7%BB%83%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E5%88%86%E7%B1%BB%E5%99%A8">Part 1.1 Tensorflow&#x8BAD;&#x7EC3;&#x81EA;&#x5B9A;&#x4E49;&#x56FE;&#x7247;&#x5206;&#x7C7B;&#x5668;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-12"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-12"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-12-%E4%BD%BF%E7%94%A8rnn%E6%9D%A5%E7%94%9F%E6%88%90%E5%8F%A4%E8%AF%97%E8%AF%8D">Part 1.2 &#x4F7F;&#x7528;RNN&#x6765;&#x751F;&#x6210;&#x53E4;&#x8BD7;&#x8BCD;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-13"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-13"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<div class="code-chunk" data-id="a2957b5f7fcf91cef669efda9bb89358" data-cmd="/anaconda3/envs/learn-ai/bin/python"><div class="input-div"><pre data-role="codeBlock" data-info="py cmd=&quot;/anaconda3/envs/learn-ai/bin/python&quot; id=&quot;a2957b5f7fcf91cef669efda9bb89358&quot; code_chunk_offset=2" class="language-python"><span class="token keyword">import</span> collections
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
 
<span class="token comment">#-------------------------------&#x6570;&#x636E;&#x9884;&#x5904;&#x7406;---------------------------#</span>
 
poetry_file <span class="token operator">=</span><span class="token string">&apos;./chapter2/part1/&#x53E4;&#x8BD7;&#x8BCD;/poetry.txt&apos;</span>
 
<span class="token comment"># &#x8BD7;&#x96C6;</span>
poetrys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>poetry_file<span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">&apos;utf-8&apos;</span><span class="token punctuation">,</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	<span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>
		<span class="token keyword">try</span><span class="token punctuation">:</span>
			title<span class="token punctuation">,</span> content <span class="token operator">=</span> line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&apos;:&apos;</span><span class="token punctuation">)</span>
			content <span class="token operator">=</span> content<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&apos; &apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span> <span class="token string">&apos;_&apos;</span> <span class="token keyword">in</span> content <span class="token keyword">or</span> <span class="token string">&apos;(&apos;</span> <span class="token keyword">in</span> content <span class="token keyword">or</span> <span class="token string">&apos;&#xFF08;&apos;</span> <span class="token keyword">in</span> content <span class="token keyword">or</span> <span class="token string">&apos;&#x300A;&apos;</span> <span class="token keyword">in</span> content <span class="token keyword">or</span> <span class="token string">&apos;[&apos;</span> <span class="token keyword">in</span> content<span class="token punctuation">:</span>
				<span class="token keyword">continue</span>
			<span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token keyword">or</span> <span class="token builtin">len</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">79</span><span class="token punctuation">:</span>
				<span class="token keyword">continue</span>
			content <span class="token operator">=</span> <span class="token string">&apos;[&apos;</span> <span class="token operator">+</span> content <span class="token operator">+</span> <span class="token string">&apos;]&apos;</span>
			poetrys<span class="token punctuation">.</span>append<span class="token punctuation">(</span>content<span class="token punctuation">)</span>
		<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span> 
			<span class="token keyword">pass</span>
 
<span class="token comment"># &#x6309;&#x8BD7;&#x7684;&#x5B57;&#x6570;&#x6392;&#x5E8F;</span>
poetrys <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>poetrys<span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> line<span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&apos;&#x5510;&#x8BD7;&#x603B;&#x6570;: &apos;</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>poetrys<span class="token punctuation">)</span><span class="token punctuation">)</span>
 
<span class="token comment"># &#x7EDF;&#x8BA1;&#x6BCF;&#x4E2A;&#x5B57;&#x51FA;&#x73B0;&#x6B21;&#x6570;</span>
all_words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> poetry <span class="token keyword">in</span> poetrys<span class="token punctuation">:</span>
	all_words <span class="token operator">+=</span> <span class="token punctuation">[</span>word <span class="token keyword">for</span> word <span class="token keyword">in</span> poetry<span class="token punctuation">]</span>
counter <span class="token operator">=</span> collections<span class="token punctuation">.</span>Counter<span class="token punctuation">(</span>all_words<span class="token punctuation">)</span>
count_pairs <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>counter<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
words<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>count_pairs<span class="token punctuation">)</span>
 
<span class="token comment"># &#x53D6;&#x524D;&#x591A;&#x5C11;&#x4E2A;&#x5E38;&#x7528;&#x5B57;</span>
words <span class="token operator">=</span> words<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">&apos; &apos;</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
<span class="token comment"># &#x6BCF;&#x4E2A;&#x5B57;&#x6620;&#x5C04;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;ID</span>
word_num_map <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>words<span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># &#x628A;&#x8BD7;&#x8F6C;&#x6362;&#x4E3A;&#x5411;&#x91CF;&#x5F62;&#x5F0F;&#xFF0C;&#x53C2;&#x8003;TensorFlow&#x7EC3;&#x4E60;1</span>
to_num <span class="token operator">=</span> <span class="token keyword">lambda</span> word<span class="token punctuation">:</span> word_num_map<span class="token punctuation">.</span>get<span class="token punctuation">(</span>word<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">)</span>
poetrys_vector <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span>to_num<span class="token punctuation">,</span> poetry<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> poetry <span class="token keyword">in</span> poetrys<span class="token punctuation">]</span>
<span class="token comment">#[[314, 3199, 367, 1556, 26, 179, 680, 0, 3199, 41, 506, 40, 151, 4, 98, 1],</span>
<span class="token comment">#[339, 3, 133, 31, 302, 653, 512, 0, 37, 148, 294, 25, 54, 833, 3, 1, 965, 1315, 377, 1700, 562, 21, 37, 0, 2, 1253, 21, 36, 264, 877, 809, 1]</span>
<span class="token comment">#....]</span>
 
batch_size <span class="token operator">=</span> <span class="token number">1</span>
n_chunk <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>poetrys_vector<span class="token punctuation">)</span> <span class="token operator">//</span> batch_size
x_batches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
y_batches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n_chunk<span class="token punctuation">)</span><span class="token punctuation">:</span>
	start_index <span class="token operator">=</span> i <span class="token operator">*</span> batch_size
	end_index <span class="token operator">=</span> start_index <span class="token operator">+</span> batch_size
 
	batches <span class="token operator">=</span> poetrys_vector<span class="token punctuation">[</span>start_index<span class="token punctuation">:</span>end_index<span class="token punctuation">]</span>
	length <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">,</span>batches<span class="token punctuation">)</span><span class="token punctuation">)</span>
	xdata <span class="token operator">=</span> np<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token punctuation">(</span>batch_size<span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">,</span> word_num_map<span class="token punctuation">[</span><span class="token string">&apos; &apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>
	<span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>batch_size<span class="token punctuation">)</span><span class="token punctuation">:</span>
		xdata<span class="token punctuation">[</span>row<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>batches<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> batches<span class="token punctuation">[</span>row<span class="token punctuation">]</span>
	ydata <span class="token operator">=</span> np<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>xdata<span class="token punctuation">)</span>
	ydata<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> xdata<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
	<span class="token triple-quoted-string string">&quot;&quot;&quot;
	xdata             ydata
	[6,2,4,6,9]       [2,4,6,9,9]
	[1,4,2,8,5]       [4,2,8,5,5]
	&quot;&quot;&quot;</span>
	x_batches<span class="token punctuation">.</span>append<span class="token punctuation">(</span>xdata<span class="token punctuation">)</span>
	y_batches<span class="token punctuation">.</span>append<span class="token punctuation">(</span>ydata<span class="token punctuation">)</span>
 
 
<span class="token comment">#---------------------------------------RNN--------------------------------------#</span>
 
input_data <span class="token operator">=</span> tf<span class="token punctuation">.</span>placeholder<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>int32<span class="token punctuation">,</span> <span class="token punctuation">[</span>batch_size<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
output_targets <span class="token operator">=</span> tf<span class="token punctuation">.</span>placeholder<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>int32<span class="token punctuation">,</span> <span class="token punctuation">[</span>batch_size<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># &#x5B9A;&#x4E49;RNN</span>
<span class="token keyword">def</span> <span class="token function">neural_network</span><span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">&apos;lstm&apos;</span><span class="token punctuation">,</span> rnn_size<span class="token operator">=</span><span class="token number">128</span><span class="token punctuation">,</span> num_layers<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">if</span> model <span class="token operator">==</span> <span class="token string">&apos;rnn&apos;</span><span class="token punctuation">:</span>
		cell_fun <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>rnn_cell<span class="token punctuation">.</span>BasicRNNCell
	<span class="token keyword">elif</span> model <span class="token operator">==</span> <span class="token string">&apos;gru&apos;</span><span class="token punctuation">:</span>
		cell_fun <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>rnn_cell<span class="token punctuation">.</span>GRUCell
	<span class="token keyword">elif</span> model <span class="token operator">==</span> <span class="token string">&apos;lstm&apos;</span><span class="token punctuation">:</span>
		cell_fun <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>rnn_cell<span class="token punctuation">.</span>BasicLSTMCell
 
	cell <span class="token operator">=</span> cell_fun<span class="token punctuation">(</span>rnn_size<span class="token punctuation">,</span> state_is_tuple<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
	cell <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>rnn_cell<span class="token punctuation">.</span>MultiRNNCell<span class="token punctuation">(</span><span class="token punctuation">[</span>cell<span class="token punctuation">]</span> <span class="token operator">*</span> num_layers<span class="token punctuation">,</span> state_is_tuple<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
 
	initial_state <span class="token operator">=</span> cell<span class="token punctuation">.</span>zero_state<span class="token punctuation">(</span>batch_size<span class="token punctuation">,</span> tf<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>
 
	<span class="token keyword">with</span> tf<span class="token punctuation">.</span>variable_scope<span class="token punctuation">(</span><span class="token string">&apos;rnnlm&apos;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		softmax_w <span class="token operator">=</span> tf<span class="token punctuation">.</span>get_variable<span class="token punctuation">(</span><span class="token string">&quot;softmax_w&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>rnn_size<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		softmax_b <span class="token operator">=</span> tf<span class="token punctuation">.</span>get_variable<span class="token punctuation">(</span><span class="token string">&quot;softmax_b&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token keyword">with</span> tf<span class="token punctuation">.</span>device<span class="token punctuation">(</span><span class="token string">&quot;/cpu:0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
			embedding <span class="token operator">=</span> tf<span class="token punctuation">.</span>get_variable<span class="token punctuation">(</span><span class="token string">&quot;embedding&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> rnn_size<span class="token punctuation">]</span><span class="token punctuation">)</span>
			inputs <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>embedding_lookup<span class="token punctuation">(</span>embedding<span class="token punctuation">,</span> input_data<span class="token punctuation">)</span>
 
	outputs<span class="token punctuation">,</span> last_state <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>dynamic_rnn<span class="token punctuation">(</span>cell<span class="token punctuation">,</span> inputs<span class="token punctuation">,</span> initial_state<span class="token operator">=</span>initial_state<span class="token punctuation">,</span> scope<span class="token operator">=</span><span class="token string">&apos;rnnlm&apos;</span><span class="token punctuation">)</span>
	output <span class="token operator">=</span> tf<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>outputs<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> rnn_size<span class="token punctuation">]</span><span class="token punctuation">)</span>
 
	logits <span class="token operator">=</span> tf<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>output<span class="token punctuation">,</span> softmax_w<span class="token punctuation">)</span> <span class="token operator">+</span> softmax_b
	probs <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>softmax<span class="token punctuation">(</span>logits<span class="token punctuation">)</span>
	<span class="token keyword">return</span> logits<span class="token punctuation">,</span> last_state<span class="token punctuation">,</span> probs<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> initial_state
 
<span class="token comment">#-------------------------------&#x751F;&#x6210;&#x53E4;&#x8BD7;---------------------------------#</span>
<span class="token comment"># &#x4F7F;&#x7528;&#x8BAD;&#x7EC3;&#x5B8C;&#x6210;&#x7684;&#x6A21;&#x578B;</span>

<span class="token comment"># def gen_poetry():</span>
<span class="token comment"># 	def to_word(weights):</span>
<span class="token comment"># 		t = np.cumsum(weights)</span>
<span class="token comment"># 		s = np.sum(weights)</span>
<span class="token comment"># 		sample = int(np.searchsorted(t, np.random.rand(1)*s))</span>
<span class="token comment"># 		return words[sample]</span>
 
<span class="token comment"># 	_, last_state, probs, cell, initial_state = neural_network()</span>
 
<span class="token comment"># 	with tf.Session() as sess:</span>
<span class="token comment"># 		sess.run(tf.initialize_all_variables())</span>
 
<span class="token comment"># 		saver = tf.train.Saver(tf.all_variables())</span>
<span class="token comment"># 		saver.restore(sess, &apos;poetry.module-49&apos;)</span>
 
<span class="token comment"># 		state_ = sess.run(cell.zero_state(1, tf.float32))</span>
 
<span class="token comment"># 		x = np.array([list(map(word_num_map.get, &apos;[&apos;))])</span>
<span class="token comment"># 		[probs_, state_] = sess.run([probs, last_state], feed_dict={input_data: x, initial_state: state_})</span>
<span class="token comment"># 		word = to_word(probs_)</span>
<span class="token comment"># 		#word = words[np.argmax(probs_)]</span>
<span class="token comment"># 		poem = &apos;&apos;</span>
<span class="token comment"># 		while word != &apos;]&apos;:</span>
<span class="token comment"># 			poem += word</span>
<span class="token comment"># 			x = np.zeros((1,1))</span>
<span class="token comment"># 			x[0,0] = word_num_map[word]</span>
<span class="token comment"># 			[probs_, state_] = sess.run([probs, last_state], feed_dict={input_data: x, initial_state: state_})</span>
<span class="token comment"># 			word = to_word(probs_)</span>
<span class="token comment"># 			#word = words[np.argmax(probs_)]</span>
<span class="token comment"># 		return poem</span>
<span class="token comment"># print(gen_poetry())</span>

<span class="token comment"># &#x85CF;&#x5934;&#x8BD7;</span>
<span class="token keyword">def</span> <span class="token function">gen_poetry_with_head_and_type</span><span class="token punctuation">(</span>head<span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">type</span> <span class="token operator">!=</span> <span class="token number">5</span> <span class="token keyword">and</span> <span class="token builtin">type</span> <span class="token operator">!=</span> <span class="token number">7</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&apos;The second para has to be 5 or 7!&apos;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>

    <span class="token keyword">def</span> <span class="token function">to_word</span><span class="token punctuation">(</span>weights<span class="token punctuation">)</span><span class="token punctuation">:</span>
        t <span class="token operator">=</span> np<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>weights<span class="token punctuation">)</span>
        s <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>weights<span class="token punctuation">)</span>
        sample <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>searchsorted<span class="token punctuation">(</span>t<span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> words<span class="token punctuation">[</span>sample<span class="token punctuation">]</span>

    _<span class="token punctuation">,</span> last_state<span class="token punctuation">,</span> probs<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> initial_state <span class="token operator">=</span> neural_network<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">with</span> tf<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sess<span class="token punctuation">:</span>
        sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>initialize_all_variables<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        saver <span class="token operator">=</span> tf<span class="token punctuation">.</span>train<span class="token punctuation">.</span>Saver<span class="token punctuation">(</span><span class="token punctuation">)</span>
        saver<span class="token punctuation">.</span>restore<span class="token punctuation">(</span>sess<span class="token punctuation">,</span> <span class="token string">&apos;./chapter2/part1/&#x53E4;&#x8BD7;&#x8BCD;/poetry.module-49&apos;</span><span class="token punctuation">)</span>
        poem <span class="token operator">=</span> <span class="token string">&apos;&apos;</span>
        i <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">for</span> the_word <span class="token keyword">in</span> head<span class="token punctuation">:</span>
                flag <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token keyword">while</span> flag<span class="token punctuation">:</span>
                    state_ <span class="token operator">=</span> sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>cell<span class="token punctuation">.</span>zero_state<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> tf<span class="token punctuation">.</span>float32<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span>word_num_map<span class="token punctuation">.</span>get<span class="token punctuation">,</span> <span class="token string">&apos;[&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token punctuation">[</span>probs_<span class="token punctuation">,</span> state_<span class="token punctuation">]</span> <span class="token operator">=</span> sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">[</span>probs<span class="token punctuation">,</span> last_state<span class="token punctuation">]</span><span class="token punctuation">,</span> feed_dict<span class="token operator">=</span><span class="token punctuation">{</span>input_data<span class="token punctuation">:</span> x<span class="token punctuation">,</span> initial_state<span class="token punctuation">:</span> state_<span class="token punctuation">}</span><span class="token punctuation">)</span>

                    sentence <span class="token operator">=</span> the_word
                    x <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> word_num_map<span class="token punctuation">[</span>sentence<span class="token punctuation">]</span>
                    <span class="token punctuation">[</span>probs_<span class="token punctuation">,</span> state_<span class="token punctuation">]</span> <span class="token operator">=</span> sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">[</span>probs<span class="token punctuation">,</span> last_state<span class="token punctuation">]</span><span class="token punctuation">,</span> feed_dict<span class="token operator">=</span><span class="token punctuation">{</span>input_data<span class="token punctuation">:</span> x<span class="token punctuation">,</span> initial_state<span class="token punctuation">:</span> state_<span class="token punctuation">}</span><span class="token punctuation">)</span>

                    word <span class="token operator">=</span> to_word<span class="token punctuation">(</span>probs_<span class="token punctuation">)</span>
                    sentence <span class="token operator">+=</span> word

                    <span class="token keyword">while</span> word<span class="token operator">!=</span><span class="token string">&apos;&#x3002;&apos;</span><span class="token punctuation">:</span>
                        x <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> word_num_map<span class="token punctuation">[</span>word<span class="token punctuation">]</span>
                        <span class="token punctuation">[</span>probs_<span class="token punctuation">,</span> state_<span class="token punctuation">]</span> <span class="token operator">=</span> sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">[</span>probs<span class="token punctuation">,</span> last_state<span class="token punctuation">]</span><span class="token punctuation">,</span> feed_dict<span class="token operator">=</span><span class="token punctuation">{</span>input_data<span class="token punctuation">:</span> x<span class="token punctuation">,</span> initial_state<span class="token punctuation">:</span> state_<span class="token punctuation">}</span><span class="token punctuation">)</span>
                        word <span class="token operator">=</span> to_word<span class="token punctuation">(</span>probs_<span class="token punctuation">)</span>

                        sentence <span class="token operator">+=</span> word

                        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sentence<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token builtin">type</span><span class="token punctuation">:</span>
                            sentence <span class="token operator">+=</span> <span class="token string">&apos;\n&apos;</span>
                            poem <span class="token operator">+=</span> sentence
                            flag <span class="token operator">=</span> <span class="token boolean">False</span>

        <span class="token keyword">return</span> poem

<span class="token keyword">print</span><span class="token punctuation">(</span>gen_poetry_with_head_and_type<span class="token punctuation">(</span><span class="token string">&quot;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&quot;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>



</pre><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"><pre class="language-text">WARNING:tensorflow:From /Users/niji/Documents/course_develop/learn-ai/r63k6t5eq_code_chunk:85: BasicLSTMCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.LSTMCell, and will be replaced by that in Tensorflow 2.0.
WARNING:tensorflow:From /Users/niji/Documents/course_develop/learn-ai/r63k6t5eq_code_chunk:86: MultiRNNCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This class is equivalent as tf.keras.layers.StackedRNNCells, and will be replaced by that in Tensorflow 2.0.
WARNING:tensorflow:At least two cells provided to MultiRNNCell are the same object and will share weights.
WARNING:tensorflow:From /anaconda3/envs/learn-ai/lib/python3.7/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /Users/niji/Documents/course_develop/learn-ai/r63k6t5eq_code_chunk:97: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `keras.layers.RNN(cell)`, which is equivalent to this API
2019-05-08 13:00:15.854940: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-05-08 13:00:15.855185: I tensorflow/core/common_runtime/process_util.cc:71] Creating new thread pool with default inter op setting: 4. Tune using inter_op_parallelism_threads for best performance.
WARNING:tensorflow:From /anaconda3/envs/learn-ai/lib/python3.7/site-packages/tensorflow/python/util/tf_should_use.py:193: initialize_all_variables (from tensorflow.python.ops.variables) is deprecated and will be removed after 2017-03-02.
Instructions for updating:
Use `tf.global_variables_initializer` instead.
WARNING:tensorflow:From /anaconda3/envs/learn-ai/lib/python3.7/site-packages/tensorflow/python/training/saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
&#x5510;&#x8BD7;&#x603B;&#x6570;:  34646
&#x6DF1;&#x4EBA;&#x7231;&#x5EA6;&#x7740;&#x79BB;&#x5E8A;&#xFF0C;&#x83BA;&#x7BA1;&#x6625;&#x60C5;&#x4EE4;&#x9152;&#x9611;&#x3002;
&#x5EA6;&#x68A6;&#x601C;&#x591A;&#x8BBF;&#x4E50;&#x4F55;&#xFF0C;&#x9001;&#x6765;&#x4F24;&#x5BA2;&#x7684;&#x987B;&#x5FC3;&#x3002;
&#x5B66;&#x4F8D;&#x9891;&#x95FB;&#x77F3;&#x4E0E;&#x8D24;&#xFF0C;&#x4EFB;&#x4F59;&#x65E5;&#x8272;&#x8DB3;&#x4E3A;&#x4ED9;&#x3002;
&#x4E60;&#x758F;&#x8427;&#x6F20;&#x665A;&#x6765;&#x50AC;&#xFF0C;&#x5411;&#x65E5;&#x901A;&#x53F0;&#x5BBF;&#x5CB8;&#x82B3;&#x3002;

</pre></div></div><h3 class="mume-header" id="part-13-%E8%AE%AD%E7%BB%83%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%B8%B8%E6%88%8Faideep-q-network">Part 1.3 &#x8BAD;&#x7EC3;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6E38;&#x620F;AI&#xFF08;Deep Q Network&#xFF09;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-14"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-14"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-14-%E4%BD%BF%E7%94%A8%E8%BF%9B%E5%8C%96%E7%AE%97%E6%B3%95%E6%9D%A5%E8%AE%AD%E7%BB%83%E8%B6%85%E7%BA%A7%E9%A9%AC%E9%87%8C%E5%A5%A5">Part 1.4 &#x4F7F;&#x7528;&#x8FDB;&#x5316;&#x7B97;&#x6CD5;&#x6765;&#x8BAD;&#x7EC3;&#x8D85;&#x7EA7;&#x9A6C;&#x91CC;&#x5965;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-15"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-15"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<hr>
<h2 class="mume-header" id="part-2-%E8%87%AA%E5%8A%A8%E8%BF%BD%E8%B8%AA%E5%B0%8F%E8%BD%A6"><strong>Part 2 &#x81EA;&#x52A8;&#x8FFD;&#x8E2A;&#x5C0F;&#x8F66;</strong></h2>

<pre class="language-text">&#x9879;&#x76EE;&#x4ECB;&#x7ECD;
</pre>
<h3 class="mume-header" id="part-21-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87%E4%B8%8E%E7%A1%AC%E4%BB%B6%E6%90%AD%E5%BB%BA">Part 2.1 &#x73AF;&#x5883;&#x51C6;&#x5907;&#x4E0E;&#x786C;&#x4EF6;&#x642D;&#x5EFA;</h3>

<pre class="language-text">&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#x63CF;&#x8FF0;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-16"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-16"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-22-opencv%E6%9C%BA%E6%A2%B0%E8%87%82%E8%87%AA%E5%8A%A8%E6%8A%93%E5%8F%96%E7%89%B9%E5%AE%9A%E5%BD%A2%E7%8A%B6%E7%89%A9%E4%BD%93">Part 2.2 OpenCV&#x673A;&#x68B0;&#x81C2;&#x81EA;&#x52A8;&#x6293;&#x53D6;&#x7279;&#x5B9A;&#x5F62;&#x72B6;&#x7269;&#x4F53;</h3>

<pre class="language-text">&#x4F7F;&#x7528;OpenCV&#x6765;&#x8BC6;&#x522B;&#x5706;&#x5F62;&#x7269;&#x4F53;&#xFF0C;&#x82E5;&#x8BC6;&#x522B;&#x5230;&#x5219;&#x53D1;&#x9001;&#x4E32;&#x53E3;&#x6307;&#x4EE4;&#x7ED9;Arduino&#x3002;Arduino&#x63A7;&#x5236;&#x673A;&#x68B0;&#x81C2;&#x8FDB;&#x884C;&#x6293;&#x53D6;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-17"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-17"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h3 class="mume-header" id="part-23-opencv%E5%88%86%E7%B1%BB%E5%99%A8%E8%AE%AD%E7%BB%83%E8%AE%A9%E5%B0%8F%E8%BD%A6%E8%BF%BD%E8%B8%AA%E7%89%B9%E5%AE%9A%E7%89%A9%E4%BD%93">Part 2.3 OpenCV&#x5206;&#x7C7B;&#x5668;&#x8BAD;&#x7EC3;&#xFF0C;&#x8BA9;&#x5C0F;&#x8F66;&#x8FFD;&#x8E2A;&#x7279;&#x5B9A;&#x7269;&#x4F53;</h3>

<pre class="language-text">&#x901A;&#x8FC7;&#x62CD;&#x7167;&#x3001;&#x722C;&#x866B;&#x7B49;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x5F85;&#x8BAD;&#x7EC3;&#x56FE;&#x7247;&#xFF0C;&#x4F7F;&#x7528;python&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x6587;&#x4EF6;&#x5904;&#x7406;&#xFF0C;&#x7528;OpenCV&#x8BAD;&#x7EC3;&#x540E;&#xFF0C;&#x53EF;&#x5B9E;&#x73B0;&#x5BF9;&#x7279;&#x5B9A;&#x7269;&#x4F53;&#x7684;&#x8BC6;&#x522B;&#x548C;&#x8FFD;&#x8E2A;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-18"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-18"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<hr>
<h2 class="mume-header" id="part-3-%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6%E5%B0%8F%E8%BD%A6"><strong>Part 3 &#x65E0;&#x4EBA;&#x9A7E;&#x9A76;&#x5C0F;&#x8F66;</strong></h2>

<pre class="language-text">&#x8FD9;&#x90E8;&#x5206;&#x57FA;&#x4E8E;&#x6811;&#x8393;&#x6D3E;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x6784;&#x5EFA;  
&#x6811;&#x8393;&#x6D3E;&#x4ECE;&#x6444;&#x50CF;&#x5934;&#x6A21;&#x5757;&#x83B7;&#x53D6;&#x8F93;&#x5165;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x65E0;&#x7EBF;&#x65B9;&#x5F0F;&#x53D1;&#x9001;&#x83B7;&#x5F97;&#x7684;&#x56FE;&#x50CF;&#x6570;&#x636E;&#x5230;&#x7535;&#x8111;&#xFF0C;&#x7535;&#x8111;&#x901A;&#x8FC7;&#x4E4B;&#x524D;&#x8BAD;&#x7EC3;&#x597D;&#x7684;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x5BF9;&#x8F93;&#x5165;&#x7684;&#x56FE;&#x50CF;&#x6570;&#x636E;&#x9884;&#x6D4B;&#x5C0F;&#x8F66;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x52A8;&#x4F5C;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x9001;&#x8FD9;&#x4E9B;&#x9884;&#x6D4B;&#x52A8;&#x4F5C;&#x7684;&#x63A7;&#x5236;&#x6307;&#x4EE4;&#x5230;&#x6811;&#x8393;&#x6D3E;&#x63A7;&#x5236;&#x5C0F;&#x8F66;&#x7684;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;&#x5C0F;&#x8F66;&#x6839;&#x636E;&#x8FD9;&#x4E9B;&#x83B7;&#x5F97;&#x7684;&#x6307;&#x4EE4;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x9A7E;&#x9A76;
</pre>
<h3 class="mume-header" id="part-31-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87%E4%B8%8E%E7%A1%AC%E4%BB%B6%E6%90%AD%E5%BB%BA">Part 3.1 &#x73AF;&#x5883;&#x51C6;&#x5907;&#x4E0E;&#x786C;&#x4EF6;&#x642D;&#x5EFA;</h3>

<pre class="language-text">&#x9700;&#x8981;&#x5B89;&#x88C5;&#x4E00;&#x4E9B;Python&#x5E93;&#x5E76;&#x6B63;&#x786E;&#x8FDE;&#x63A5;&#x5C0F;&#x8F66;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-19"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-5">&#x786C;&#x4EF6;&#x6E05;&#x5355;</h5>

<ul>
<li>&#x6811;&#x8393;&#x6D3E;</li>
<li>&#x6811;&#x8393;&#x6D3E;&#x7535;&#x673A;&#x6269;&#x5C55;&#x677F;</li>
<li>&#x6444;&#x50CF;&#x5934;</li>
<li>&#x5C0F;&#x8F66;&#x5957;&#x4EF6;</li>
</ul>
<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-5">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</h5>

<center><img src="https://md.hass.live/niji/2019-05-07-Xnip2019-05-07_15-41-17.png?imageView2/0/interlace/1/q/46|imageslim"></center>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-19"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-3">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</h5>

<p>1.&#x901A;&#x8FC7;HDMI&#x663E;&#x793A;&#x5668;&#x8FDE;&#x63A5;&#x6811;&#x8393;&#x6D3E;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;USB&#x952E;&#x76D8;&#x9F20;&#x6807;&#x8FDB;&#x884C;&#x63A7;&#x5236;<br>
2.&#x5728;&#x684C;&#x9762;&#x4E0A;&#x9762;&#x627E;&#x5230;&#x540D;&#x5B57;&#x4E3A;<code>learn-ai</code>&#x7684;&#x6587;&#x4EF6;&#x5939;,&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter2/part3/self_driving_car/</code><br>
3.&#x5728;&#x684C;&#x9762;&#x6309;<code>ctrl</code>+<code>alt</code>+<code>T</code>&#x6765;&#x6253;&#x5F00;&#x7EC8;&#x7AEF;<br>
4.&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#x540E;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">install</span> python3 ???
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> sklearn ???
</pre><h3 class="mume-header" id="part-32-%E7%94%B5%E6%9C%BA%E5%92%8C%E6%91%84%E5%83%8F%E5%A4%B4%E9%A9%B1%E5%8A%A8%E6%B5%8B%E8%AF%95">Part 3.2 &#x7535;&#x673A;&#x548C;&#x6444;&#x50CF;&#x5934;&#x9A71;&#x52A8;&#x6D4B;&#x8BD5;</h3>

<pre class="language-text">&#x6D4B;&#x8BD5;&#x8F6F;&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x7684;&#x5B89;&#x88C5;&#x662F;&#x5426;&#x6B63;&#x786E;
</pre>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-20"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E7%94%B5%E6%9C%BA%E6%B5%8B%E8%AF%95">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x7535;&#x673A;&#x6D4B;&#x8BD5;</h5>

<p>1.&#x6253;&#x5F00;&#x684C;&#x9762;&#x4E0A;&#x7684;<code>learn-ai</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter2/part3/self_driving_car/</code><br>
2.&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers"><span class="token function">cd</span> ~/Desktop/learn-ai/chapter2/part3/self_driving_car
<span class="token function">cd</span> computer
<span class="token function">sudo</span> python3 drive_api2.py -s 150  //-s 150&#x4F5C;&#x4E3A;&#x53EF;&#x9009;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x6765;&#x6307;&#x5B9A;&#x884C;&#x9A76;&#x901F;&#x5EA6;&#x3002;&#x53EF;&#x9009;&#x8303;&#x56F4;&#x662F;0-256
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p>3.&#x6253;&#x5F00;&#x6811;&#x8393;&#x6D3E;&#x4E0A;&#x7684;&#x7F51;&#x7EDC;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x5728;&#x5730;&#x5740;&#x680F;&#x8F93;&#x5165;&#x8DEF;&#x7531;&#x5668;&#x7BA1;&#x7406;&#x5730;&#x5740;&#xFF0C;&#x67E5;&#x770B;&#x6811;&#x8393;&#x6D3E;IP&#x5730;&#x5740;<br>
4.&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x8F93;&#x5165;&#x6811;&#x8393;&#x6D3E;IP:81/drive,&#x4F8B;&#x5982;&#xFF08;192.168.0.100:81/drive&#xFF09;<br>
5.&#x5728;&#x6253;&#x5F00;&#x7684;&#x754C;&#x9762;&#x4E0A;&#x6309;&#x952E;&#x76D8;&#x4E0A;&#x7684;&#x4E0A;&#x4E0B;&#x5DE6;&#x53F3;&#x65B9;&#x5411;&#x952E;&#x6765;&#x6D4B;&#x8BD5;&#x5C0F;&#x8F66;<br>
6.&#x6D4B;&#x8BD5;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;<code>Ctrl</code>+<code>C</code>&#x6765;&#x7ED3;&#x675F;&#x5F53;&#x524D;&#x4EFB;&#x52A1;</p>
<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E6%91%84%E5%83%8F%E5%A4%B4%E6%B5%8B%E8%AF%95">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x6444;&#x50CF;&#x5934;&#x6D4B;&#x8BD5;</h5>

<p>1.&#x6253;&#x5F00;&#x684C;&#x9762;&#x4E0A;&#x7684;<code>learn-ai</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter2/part3/self_driving_car/</code><br>
2.&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers"><span class="token function">cd</span> ~/Desktop/learn-ai/chapter2/part3/self_driving_car
<span class="token function">cd</span> <span class="token function">test</span>
<span class="token function">sudo</span> python3 stream_server_test.py
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p>3.&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#x7A97;&#x53E3;</p>
<center><img src="https://md.hass.live/terminal.png"></center>
<p>4.&#x5728;&#x65B0;&#x7684;&#x7EC8;&#x7AEF;&#x7A97;&#x53E3;&#x4E2D;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x6B63;&#x5E38;&#x7684;&#x89C6;&#x9891;&#x753B;&#x9762;&#x8F93;&#x51FA;&#xFF0C;&#x5219;&#x6D4B;&#x8BD5;&#x901A;&#x8FC7;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers"><span class="token function">cd</span> ~/Desktop/learn-ai/chapter2/part3/self_driving_car
<span class="token function">cd</span> raspberryPi
<span class="token function">sudo</span> python3 stream_client.py
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p>5.&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;<code>Ctrl</code>+<code>C</code>&#x6765;&#x7ED3;&#x675F;&#x5F53;&#x524D;&#x4EFB;&#x52A1;</p>
<h3 class="mume-header" id="part-33-%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%8F%8A%E8%AE%AD%E7%BB%83">Part 3.3 &#x65E0;&#x4EBA;&#x9A7E;&#x9A76;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x53CA;&#x8BAD;&#x7EC3;</h3>

<pre class="language-text">&#x642D;&#x5EFA;&#x8D77;&#x8F66;&#x9053;&#xFF0C;&#x7136;&#x540E;&#x8FD0;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x6536;&#x96C6;&#x6570;&#x636E;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x6309;&#x4E0B;&#x7B14;&#x8BB0;&#x672C;&#x7684;&#x65B9;&#x5411;&#x63A7;&#x5236;&#x5C0F;&#x8F66;&#x884C;&#x9A76;&#xFF0C;&#x6BCF;&#x6309;&#x4E00;&#x6B21;&#x65B9;&#x5411;&#x952E;&#xFF0C;&#x7A0B;&#x5E8F;&#x5C31;&#x4F1A;&#x8BB0;&#x5F55;&#x4E0B;&#x4E00;&#x5E27;&#x76F8;&#x5E94;&#x7684;&#x56FE;&#x50CF;&#x3002;&#x8BA9;&#x5C0F;&#x8F66;&#x5E73;&#x5747;&#x904D;&#x5386;&#x81EA;&#x52A8;&#x9A7E;&#x9A76;&#x4E2D;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x5404;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6309;&#x2018;q&#x2018;&#x9000;&#x51FA;&#x6570;&#x636E;&#x91C7;&#x96C6;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8FD0;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;&#x7A0B;&#x5E8F;&#x8BAD;&#x7EC3;&#x81EA;&#x52A8;&#x9A7E;&#x9A76;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;
</pre>
<h4 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-20"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></h4>

<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-6">&#x786C;&#x4EF6;&#x6E05;&#x5355;</h5>

<ul>
<li>&#x7EB8;</li>
<li>&#x80F6;&#x5E26;</li>
</ul>
<h5 class="mume-header" id="%E7%A1%AC%E4%BB%B6%E6%90%AD%E5%BB%BA-%E8%B7%91%E9%81%93">&#x786C;&#x4EF6;&#x642D;&#x5EFA;-&#x8DD1;&#x9053;</h5>

<ul>
<li>&#x5730;&#x9762;&#x989C;&#x8272;&#x4E3A;&#x7EAF;&#x8272;&#xFF0C;&#x4E0E;&#x6240;&#x7528;&#x7EB8;&#x5F20;&#x7684;&#x989C;&#x8272;&#x5BF9;&#x6BD4;&#x5EA6;&#x5E94;&#x8F83;&#x5927;</li>
<li>&#x8DD1;&#x9053;&#x7684;&#x5BBD;&#x5EA6;&#x7A0D;&#x5927;&#x4E8E;&#x8F66;&#x7684;&#x5BBD;&#x5EA6;</li>
<li>&#x53EF;&#x4EE5;&#x628A;&#x62D0;&#x5F2F;&#x5904;&#x7684;&#x5F2F;&#x5EA6;&#x8BBE;&#x8BA1;&#x5F97;&#x7A0D;&#x5927;&#x4E00;&#x4E9B;</li>
</ul>
<center><img src="https://md.hass.live/track.jpg"></center>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-21"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E9%A9%BE%E9%A9%B6%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x9A7E;&#x9A76;&#x6570;&#x636E;&#x91C7;&#x96C6;</h5>

<p>1.&#x6253;&#x5F00;<code>learn-ai</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#x8DEF;&#x5F84;<code>chapter2/part3/</code><br>
2.&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">cd</span> ~/Desktop/learn-ai/chapter2/part3/self_driving_car
<span class="token function">cd</span> computer
<span class="token function">sudo</span> python3 collect_training_data2.py
</pre><p>3.&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#x7A97;&#x53E3;&#xFF0C;&#x8F93;&#x5165;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers"><span class="token function">cd</span> ~/Desktop/learn-ai/chapter2/part3/self_driving_car
<span class="token function">cd</span> raspberryPi
<span class="token function">sudo</span> python3 stream_client.py
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p>4.&#x63CF;&#x8FF0;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#xFF0C;&#x6309;<code>q</code>&#x7ED3;&#x675F;&#x8BAD;&#x7EC3;</p>
<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E9%A9%BE%E9%A9%B6%E6%95%B0%E6%8D%AE%E8%AE%AD%E7%BB%83">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x9A7E;&#x9A76;&#x6570;&#x636E;&#x8BAD;&#x7EC3;</h5>

<p>1.&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#x7A97;&#x53E3;&#xFF0C;&#x8F93;&#x5165;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers"><span class="token function">cd</span> ~/Desktop/learn-ai/chapter2/part3/self_driving_car
<span class="token function">cd</span> computer
<span class="token function">sudo</span> python3 model_training.py
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><center><img src="https://md.hass.live/404.gif"></center>
<p>2.&#x8BAD;&#x7EC3;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x8BAD;&#x7EC3;&#x6587;&#x4EF6;&#x5728;<code>&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</code></p>
<h3 class="mume-header" id="part-34-%E5%BC%80%E5%A7%8B%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6">Part 3.4 &#x5F00;&#x59CB;&#x65E0;&#x4EBA;&#x9A7E;&#x9A76;</h3>

<pre class="language-text">&#x6839;&#x636E;&#x8BAD;&#x7EC3;&#x597D;&#x7684;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x6A21;&#x578B;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x9A7E;&#x9A76;
</pre>
<h4 class="mume-header" id="%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-22"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></h4>

<h5 class="mume-header" id="%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-4">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</h5>

<p>1.&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#xFF0C;&#x8F93;&#x5165;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers"><span class="token function">cd</span> ~/Desktop/learn-ai/chapter2/part3/self_driving_car
<span class="token function">cd</span> computer
<span class="token function">sudo</span> python3 rc_drive_nn_only.py
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre><p>2.&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#x7A97;&#x53E3;&#xFF0C;&#x8F93;&#x5165;</p>
<pre data-role="codeBlock" data-info="bash {.line-numbers}" class="language-bash line-numbers"><span class="token function">cd</span> ~/Desktop/learn-ai/chapter2/part3/self_driving_car
<span class="token function">cd</span> raspberryPi
<span class="token function">sudo</span> stream&#x2014;&#x2014;client.py
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></pre>
      </div>
      <div class="md-sidebar-toc"><ul>
<li><a href="#%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E8%AF%BE%E7%A8%8B%E6%96%87%E6%A1%A3-%E8%AF%BE%E7%A8%8B%E6%B4%BB%E5%8A%A8%E9%83%A8%E5%88%86">&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x8BFE;&#x7A0B;&#x6587;&#x6863;-&#x8BFE;&#x7A0B;&#x6D3B;&#x52A8;&#x90E8;&#x5206;</a>
<ul>
<li><a href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><strong>&#x73AF;&#x5883;&#x51C6;&#x5907;</strong></a>
<ul>
<li><a href="#anaconda">Anaconda</a>
<ul>
<li><a href="#%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4">&#x57FA;&#x672C;&#x547D;&#x4EE4;</a>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BA%E7%8E%AF%E5%A2%83">&#x521B;&#x5EFA;&#x73AF;&#x5883;</a></li>
<li><a href="#%E8%BF%9B%E5%85%A5%E7%8E%AF%E5%A2%83">&#x8FDB;&#x5165;&#x73AF;&#x5883;</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E5%8C%85">&#x5B89;&#x88C5;&#x6307;&#x5B9A;&#x5305;</a></li>
<li><a href="#%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4">&#x5176;&#x4ED6;&#x547D;&#x4EE4;</a></li>
</ul>
</li>
<li><a href="#setup">setup</a></li>
</ul>
</li>
<li><a href="#vscode">VSCode</a>
<ul>
<li><a href="#setup-1">setup</a></li>
</ul>
</li>
<li><a href="#cp2102%E9%A9%B1%E5%8A%A8">CP2102&#x9A71;&#x52A8;</a></li>
<li><a href="#arduino-ide">Arduino IDE.</a>
<ul>
<li><a href="#setup-2">setup</a></li>
</ul>
</li>
<li><a href="#%E5%85%B6%E4%BB%96">&#x5176;&#x4ED6;</a></li>
<li><a href="#%E4%B8%8B%E8%BD%BD%E8%AF%BE%E7%A8%8B%E6%89%80%E9%9C%80%E6%96%87%E4%BB%B6">&#x4E0B;&#x8F7D;&#x8BFE;&#x7A0B;&#x6240;&#x9700;&#x6587;&#x4EF6;</a></li>
</ul>
</li>
<li><a href="#chapter-1-%E7%89%A9%E8%81%94%E7%BD%91%E4%B8%8E%E6%9C%BA%E5%99%A8%E4%BA%BA"><strong>Chapter 1 &#x7269;&#x8054;&#x7F51;&#x4E0E;&#x673A;&#x5668;&#x4EBA;</strong></a></li>
<li><a href="#part-1-%E4%BD%BF%E7%94%A8esp8266%E5%BC%80%E5%8F%91%E6%9D%BF%E8%AF%BB%E5%8F%96%E5%92%8C%E6%8E%A7%E5%88%B6%E4%BC%A0%E6%84%9F%E5%99%A8-%E8%88%B5%E6%9C%BA%E5%92%8C%E7%94%B5%E6%9C%BA"><strong>Part 1 &#x4F7F;&#x7528;esp8266&#x5F00;&#x53D1;&#x677F;&#x8BFB;&#x53D6;&#x548C;&#x63A7;&#x5236;&#x4F20;&#x611F;&#x5668;&#x3001;&#x8235;&#x673A;&#x548C;&#x7535;&#x673A;</strong></a>
<ul>
<li><a href="#part-11-%E4%BD%BF%E7%94%A8esp8266%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%8A%E8%AF%BB%E5%8F%96%E4%BC%A0%E6%84%9F%E5%99%A8%E6%95%B0%E6%8D%AE%E7%BB%98%E5%88%B6%E5%AE%9E%E6%97%B6%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF">Part 1.1 &#x4F7F;&#x7528;esp8266&#x5728;&#x7F51;&#x9875;&#x4E0A;&#x8BFB;&#x53D6;&#x4F20;&#x611F;&#x5668;&#x6570;&#x636E;&#xFF0C;&#x7ED8;&#x5236;&#x5B9E;&#x65F6;&#x53D8;&#x5316;&#x66F2;&#x7EBF;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95">&#x786C;&#x4EF6;&#x6E05;&#x5355;</a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</a></li>
</ul>
</li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E7%AE%80%E5%8D%95%E8%AF%BB%E5%8F%96">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x7B80;&#x5355;&#x8BFB;&#x53D6;</a></li>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E7%BB%98%E5%88%B6%E5%AE%9E%E6%97%B6%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x7ED8;&#x5236;&#x5B9E;&#x65F6;&#x53D8;&#x5316;&#x66F2;&#x7EBF;</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3">&#x4EE3;&#x7801;&#x8BE6;&#x89E3;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-12-wifi%E9%81%A5%E6%8E%A7%E5%B0%8F%E8%BD%A6">Part 1.2 WiFi&#x9065;&#x63A7;&#x5C0F;&#x8F66;</a>
<ul>
<li><a href="#demo"><strong>demo</strong></a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-1"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-1">&#x786C;&#x4EF6;&#x6E05;&#x5355;</a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-1">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</a></li>
</ul>
</li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-1"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3-1">&#x4EE3;&#x7801;&#x8BE6;&#x89E3;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-13-%E4%BD%BF%E7%94%A8esp8266%E9%80%9A%E8%BF%87wifi%E6%8E%A7%E5%88%B6%E6%9C%BA%E6%A2%B0%E8%87%82%E8%88%B5%E6%9C%BA">Part 1.3 &#x4F7F;&#x7528;esp8266&#x901A;&#x8FC7;WiFi&#x63A7;&#x5236;&#x673A;&#x68B0;&#x81C2;&#x8235;&#x673A;</a>
<ul>
<li><a href="#demo-1"><strong>demo</strong></a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-2"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-2">&#x786C;&#x4EF6;&#x6E05;&#x5355;</a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-2">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</a></li>
</ul>
</li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-2"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-1">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3-2">&#x4EE3;&#x7801;&#x8BE6;&#x89E3;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-14-esp32%E7%BD%91%E7%BB%9C%E6%91%84%E5%83%8F%E5%A4%B4%E4%B8%8E%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB">Part 1.4 esp32&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x4E0E;&#x4EBA;&#x8138;&#x8BC6;&#x522B;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-3"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-3">&#x786C;&#x4EF6;&#x6E05;&#x5355;</a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-3">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</a></li>
</ul>
</li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-3"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-2">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3-3">&#x4EE3;&#x7801;&#x8BE6;&#x89E3;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-15-%E7%BB%BC%E5%90%88%E4%B8%8E%E8%BF%9B%E9%98%B6">Part 1.5 &#x7EFC;&#x5408;&#x4E0E;&#x8FDB;&#x9636;</a>
<ul>
<li><a href="#%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81"><strong>&#x53C2;&#x8003;&#x4EE3;&#x7801;</strong></a></li>
<li><a href="#%E6%8A%93%E5%8F%96%E5%A4%A7%E8%B5%9B"><strong>&#x6293;&#x53D6;&#x5927;&#x8D5B;</strong></a>
<ul>
<li><a href="#%E6%AF%94%E8%B5%9B%E8%A7%84%E5%88%99">&#x6BD4;&#x8D5B;&#x89C4;&#x5219;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%B0%BE%E5%A3%B0">&#x5C3E;&#x58F0;</a></li>
</ul>
</li>
<li><a href="#part-2-%E7%89%A9%E8%81%94%E7%BD%91%E5%BC%80%E6%BA%90%E5%B9%B3%E5%8F%B0home-assistant%E5%88%9B%E6%84%8F%E5%BA%94%E7%94%A8"><strong>Part 2 &#x7269;&#x8054;&#x7F51;&#x5F00;&#x6E90;&#x5E73;&#x53F0;Home Assistant&#x521B;&#x610F;&#x5E94;&#x7528;</strong></a>
<ul>
<li><a href="#part-21-home-assistant%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE">Part 2.1 Home Assistant&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-4"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-4">&#x786C;&#x4EF6;&#x6E05;&#x5355;</a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-4">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</a></li>
</ul>
</li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-4"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B">&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-22-home-assistant%E6%8E%A7%E5%88%B6esp8266%E5%BD%A9%E8%89%B2%E7%81%AF">Part 2.2 Home Assistant&#x63A7;&#x5236;esp8266&#x5F69;&#x8272;&#x706F;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-5"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-5"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-23-home-assistant%E8%BF%9B%E8%A1%8C%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E5%92%8C%E8%AF%AD%E9%9F%B3%E6%92%AD%E6%8A%A5">Part 2.3 Home Assistant&#x8FDB;&#x884C;&#x4EBA;&#x8138;&#x8BC6;&#x522B;&#x548C;&#x8BED;&#x97F3;&#x64AD;&#x62A5;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-6"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-6"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-3-%E8%BF%9B%E9%98%B6%E9%A1%B9%E7%9B%AE-%E7%89%A9%E8%81%94%E7%BD%91%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%B0%8F%E7%BB%BF"><strong>Part 3 &#x8FDB;&#x9636;&#x9879;&#x76EE;-&#x7269;&#x8054;&#x7F51;&#x673A;&#x5668;&#x4EBA;&#x5C0F;&#x7EFF;</strong></a>
<ul>
<li><a href="#part-31-%E7%BB%84%E8%A3%85%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%BB%BF%E6%9C%BA%E5%99%A8%E4%BA%BA">Part 3.1 &#x7EC4;&#x88C5;&#x4E00;&#x4E2A;&#x5C0F;&#x7EFF;&#x673A;&#x5668;&#x4EBA;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-7"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-7"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-32-%E8%AE%AD%E7%BB%83%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E5%BC%80%E5%A7%8B%E5%92%8C%E5%B0%8F%E7%BB%BF%E8%81%8A%E5%A4%A9">Part 3.2 &#x8BAD;&#x7EC3;&#x8BED;&#x97F3;&#x8BC6;&#x522B;&#xFF0C;&#x5F00;&#x59CB;&#x548C;&#x5C0F;&#x7EFF;&#x804A;&#x5929;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-8"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-8"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-33-%E8%AE%A9%E5%B0%8F%E7%BB%BF%E5%90%AC%E4%BD%A0%E6%8C%87%E6%8C%A5%E6%8E%A7%E5%88%B6%E4%B8%80%E5%88%87">Part 3.3 &#x8BA9;&#x5C0F;&#x7EFF;&#x542C;&#x4F60;&#x6307;&#x6325;&#xFF0C;&#x63A7;&#x5236;&#x4E00;&#x5207;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-9"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-9"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-34-%E4%BD%BF%E7%94%A8google-blockly%E6%9D%A5%E6%8E%A7%E5%88%B6%E5%B0%8F%E7%BB%BF">Part 3.4 &#x4F7F;&#x7528;Google Blockly&#x6765;&#x63A7;&#x5236;&#x5C0F;&#x7EFF;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-10"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-10"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-35-%E4%BD%BF%E7%94%A8openpose%E8%AE%A9%E5%B0%8F%E7%BB%BF%E5%AE%9E%E6%97%B6%E6%A8%A1%E4%BB%BF%E4%BD%A0%E7%9A%84%E5%8A%A8%E4%BD%9C">Part 3.5 &#x4F7F;&#x7528;OpenPose&#x8BA9;&#x5C0F;&#x7EFF;&#x5B9E;&#x65F6;&#x6A21;&#x4EFF;&#x4F60;&#x7684;&#x52A8;&#x4F5C;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-11"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-11"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-2-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E4%B8%8E%E6%9C%BA%E5%99%A8%E4%BA%BA"><strong>Chapter 2 &#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x4E0E;&#x673A;&#x5668;&#x4EBA;</strong></a></li>
<li><a href="#part-1-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3%E6%A1%88%E4%BE%8B%E4%BD%93%E9%AA%8C"><strong>Part 1 &#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x7B97;&#x6CD5;&#x76F8;&#x5173;&#x6848;&#x4F8B;&#x4F53;&#x9A8C;</strong></a>
<ul>
<li><a href="#part-11-tensorflow%E8%AE%AD%E7%BB%83%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E5%88%86%E7%B1%BB%E5%99%A8">Part 1.1 Tensorflow&#x8BAD;&#x7EC3;&#x81EA;&#x5B9A;&#x4E49;&#x56FE;&#x7247;&#x5206;&#x7C7B;&#x5668;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-12"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-12"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-12-%E4%BD%BF%E7%94%A8rnn%E6%9D%A5%E7%94%9F%E6%88%90%E5%8F%A4%E8%AF%97%E8%AF%8D">Part 1.2 &#x4F7F;&#x7528;RNN&#x6765;&#x751F;&#x6210;&#x53E4;&#x8BD7;&#x8BCD;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-13"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-13"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-13-%E8%AE%AD%E7%BB%83%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%B8%B8%E6%88%8Faideep-q-network">Part 1.3 &#x8BAD;&#x7EC3;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6E38;&#x620F;AI&#xFF08;Deep Q Network&#xFF09;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-14"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-14"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-14-%E4%BD%BF%E7%94%A8%E8%BF%9B%E5%8C%96%E7%AE%97%E6%B3%95%E6%9D%A5%E8%AE%AD%E7%BB%83%E8%B6%85%E7%BA%A7%E9%A9%AC%E9%87%8C%E5%A5%A5">Part 1.4 &#x4F7F;&#x7528;&#x8FDB;&#x5316;&#x7B97;&#x6CD5;&#x6765;&#x8BAD;&#x7EC3;&#x8D85;&#x7EA7;&#x9A6C;&#x91CC;&#x5965;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-15"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-15"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-2-%E8%87%AA%E5%8A%A8%E8%BF%BD%E8%B8%AA%E5%B0%8F%E8%BD%A6"><strong>Part 2 &#x81EA;&#x52A8;&#x8FFD;&#x8E2A;&#x5C0F;&#x8F66;</strong></a>
<ul>
<li><a href="#part-21-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87%E4%B8%8E%E7%A1%AC%E4%BB%B6%E6%90%AD%E5%BB%BA">Part 2.1 &#x73AF;&#x5883;&#x51C6;&#x5907;&#x4E0E;&#x786C;&#x4EF6;&#x642D;&#x5EFA;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-16"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-16"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-22-opencv%E6%9C%BA%E6%A2%B0%E8%87%82%E8%87%AA%E5%8A%A8%E6%8A%93%E5%8F%96%E7%89%B9%E5%AE%9A%E5%BD%A2%E7%8A%B6%E7%89%A9%E4%BD%93">Part 2.2 OpenCV&#x673A;&#x68B0;&#x81C2;&#x81EA;&#x52A8;&#x6293;&#x53D6;&#x7279;&#x5B9A;&#x5F62;&#x72B6;&#x7269;&#x4F53;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-17"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-17"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
<li><a href="#part-23-opencv%E5%88%86%E7%B1%BB%E5%99%A8%E8%AE%AD%E7%BB%83%E8%AE%A9%E5%B0%8F%E8%BD%A6%E8%BF%BD%E8%B8%AA%E7%89%B9%E5%AE%9A%E7%89%A9%E4%BD%93">Part 2.3 OpenCV&#x5206;&#x7C7B;&#x5668;&#x8BAD;&#x7EC3;&#xFF0C;&#x8BA9;&#x5C0F;&#x8F66;&#x8FFD;&#x8E2A;&#x7279;&#x5B9A;&#x7269;&#x4F53;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-18"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a></li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-18"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-3-%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6%E5%B0%8F%E8%BD%A6"><strong>Part 3 &#x65E0;&#x4EBA;&#x9A7E;&#x9A76;&#x5C0F;&#x8F66;</strong></a>
<ul>
<li><a href="#part-31-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87%E4%B8%8E%E7%A1%AC%E4%BB%B6%E6%90%AD%E5%BB%BA">Part 3.1 &#x73AF;&#x5883;&#x51C6;&#x5907;&#x4E0E;&#x786C;&#x4EF6;&#x642D;&#x5EFA;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-19"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-5">&#x786C;&#x4EF6;&#x6E05;&#x5355;</a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5-5">&#x786C;&#x4EF6;&#x8FDE;&#x63A5;</a></li>
</ul>
</li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-19"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-3">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-32-%E7%94%B5%E6%9C%BA%E5%92%8C%E6%91%84%E5%83%8F%E5%A4%B4%E9%A9%B1%E5%8A%A8%E6%B5%8B%E8%AF%95">Part 3.2 &#x7535;&#x673A;&#x548C;&#x6444;&#x50CF;&#x5934;&#x9A71;&#x52A8;&#x6D4B;&#x8BD5;</a>
<ul>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-20"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E7%94%B5%E6%9C%BA%E6%B5%8B%E8%AF%95">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x7535;&#x673A;&#x6D4B;&#x8BD5;</a></li>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E6%91%84%E5%83%8F%E5%A4%B4%E6%B5%8B%E8%AF%95">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x6444;&#x50CF;&#x5934;&#x6D4B;&#x8BD5;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-33-%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%8F%8A%E8%AE%AD%E7%BB%83">Part 3.3 &#x65E0;&#x4EBA;&#x9A7E;&#x9A76;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x53CA;&#x8BAD;&#x7EC3;</a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E9%83%A8%E5%88%86-20"><strong>&#x786C;&#x4EF6;&#x90E8;&#x5206;</strong></a>
<ul>
<li><a href="#%E7%A1%AC%E4%BB%B6%E6%B8%85%E5%8D%95-6">&#x786C;&#x4EF6;&#x6E05;&#x5355;</a></li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E6%90%AD%E5%BB%BA-%E8%B7%91%E9%81%93">&#x786C;&#x4EF6;&#x642D;&#x5EFA;-&#x8DD1;&#x9053;</a></li>
</ul>
</li>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-21"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E9%A9%BE%E9%A9%B6%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x9A7E;&#x9A76;&#x6570;&#x636E;&#x91C7;&#x96C6;</a></li>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E9%A9%BE%E9%A9%B6%E6%95%B0%E6%8D%AE%E8%AE%AD%E7%BB%83">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;-&#x9A7E;&#x9A76;&#x6570;&#x636E;&#x8BAD;&#x7EC3;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-34-%E5%BC%80%E5%A7%8B%E6%97%A0%E4%BA%BA%E9%A9%BE%E9%A9%B6">Part 3.4 &#x5F00;&#x59CB;&#x65E0;&#x4EBA;&#x9A7E;&#x9A76;</a>
<ul>
<li><a href="#%E7%AE%97%E6%B3%95%E5%8F%8A%E7%A8%8B%E5%BA%8F-22"><strong>&#x7B97;&#x6CD5;&#x53CA;&#x7A0B;&#x5E8F;</strong></a>
<ul>
<li><a href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-4">&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
      <a id="sidebar-toc-btn">&#x2261;</a>
    
    
    
    
    
    
    
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  
    </body></html>